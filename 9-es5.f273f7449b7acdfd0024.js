!function(){function t(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],i=!0,r=!1,a=void 0;try{for(var o,c=t[Symbol.iterator]();!(i=(o=c.next()).done)&&(n.push(o.value),!e||n.length!==e);i=!0);}catch(s){r=!0,a=s}finally{try{i||null==c.return||c.return()}finally{if(r)throw a}}return n}(t,e)||n(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=n(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){i=t[Symbol.iterator]()},n:function(){var t=i.next();return c=t.done,t},e:function(t){s=!0,o=t},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw o}}}}function n(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"5Ma4":function(n,i,a){"use strict";a.r(i),a.d(i,"CandidtesPageModule",(function(){return x}));var c,s=a("ofXK"),d=a("3Pt+"),l=a("TEn/"),u=a("tyNb"),b=a("mrSG"),f=a("fXoL"),v=a("L5fO"),g=((c=function(){function t(e,n){r(this,t),this.modalCtrl=e,this.langProvider=n}return o(t,[{key:"ngOnInit",value:function(){}},{key:"applyFilters",value:function(t){this.modalCtrl.dismiss(t)}}]),t}()).\u0275fac=function(t){return new(t||c)(f.Ib(l.eb),f.Ib(v.b))},c.\u0275cmp=f.Cb({type:c,selectors:[["app-candidates-filter"]],inputs:{status:"status"},decls:19,vars:9,consts:[["translucent","true"],[3,"value"],["button","",3,"click"],["slot","start","value","active"],["slot","start","value","notActive"],["slot","start","value","all"]],template:function(t,e){1&t&&(f.Nb(0,"ion-header",0),f.Nb(1,"ion-toolbar"),f.Nb(2,"ion-title"),f.Nb(3,"span"),f.pc(4),f.Mb(),f.Mb(),f.Mb(),f.Nb(5,"ion-list"),f.Nb(6,"ion-radio-group",1),f.Nb(7,"ion-item",2),f.Vb("click",(function(){return e.applyFilters("active")})),f.Nb(8,"ion-label"),f.pc(9),f.Mb(),f.Jb(10,"ion-radio",3),f.Mb(),f.Nb(11,"ion-item",2),f.Vb("click",(function(){return e.applyFilters("notActive")})),f.Nb(12,"ion-label"),f.pc(13),f.Mb(),f.Jb(14,"ion-radio",4),f.Mb(),f.Nb(15,"ion-item",2),f.Vb("click",(function(){return e.applyFilters("all")})),f.Nb(16,"ion-label"),f.pc(17),f.Mb(),f.Jb(18,"ion-radio",5),f.Mb(),f.Mb(),f.Mb(),f.Mb()),2&t&&(f.yb(2),f.mc("direction",e.langProvider.LangDirection),f.yb(2),f.qc(e.langProvider.Select),f.yb(1),f.mc("direction",e.langProvider.LangDirection),f.yb(1),f.dc("value",e.status),f.yb(3),f.qc(e.langProvider.CandidatesFilterActive),f.yb(4),f.qc(e.langProvider.CandidatesFilterNotActive),f.yb(4),f.qc(e.langProvider.CandidatesFilterAll))},directives:[l.s,l.Z,l.X,l.D,l.I,l.jb,l.w,l.C,l.H,l.ib],styles:[""]}),c),p=a("3LWr"),m=a("zrcv"),h=a("ufmx"),y=a("5+WD"),C=a("g1yl");function M(t,e){if(1&t){var n=f.Ob();f.Nb(0,"ion-item-option",21),f.Vb("click",(function(){f.ic(n);var t=f.Xb().$implicit;return f.Xb().changeActiveStatus(t,!0)})),f.Nb(1,"span"),f.pc(2),f.Mb(),f.Mb()}if(2&t){var i=f.Xb(2);f.yb(2),f.qc(i.langProvider.CandidateActive)}}function w(t,e){if(1&t){var n=f.Ob();f.Nb(0,"ion-item-option",22),f.Vb("click",(function(){f.ic(n);var t=f.Xb().$implicit;return f.Xb().changeActiveStatus(t,!1)})),f.Nb(1,"span"),f.pc(2),f.Mb(),f.Mb()}if(2&t){var i=f.Xb(2);f.yb(2),f.qc(i.langProvider.CandidateNotActive)}}function k(t,e){if(1&t){var n=f.Ob();f.Nb(0,"ion-item-sliding"),f.Nb(1,"ion-item-options",13),f.nc(2,M,3,1,"ion-item-option",14),f.nc(3,w,3,1,"ng-template",null,15,f.oc),f.Mb(),f.Nb(5,"ion-item",16),f.Vb("click",(function(){f.ic(n);var t=e.$implicit;return f.Xb().onCadidateSelected(t)})),f.Jb(6,"app-candidate-avatar",17),f.Nb(7,"ion-label"),f.Nb(8,"div",18),f.Nb(9,"span",19),f.pc(10),f.Mb(),f.Jb(11,"ion-progress-bar",20),f.Mb(),f.Mb(),f.Jb(12,"ion-reorder",1),f.Mb(),f.Mb()}if(2&t){var i=e.$implicit,r=f.hc(4),a=f.Xb();f.yb(2),f.dc("ngIf",!1===i.isActive)("ngIfElse",r),f.yb(3),f.dc("hidden",a.checkVisibiltyStatus(i)),f.yb(1),f.dc("candidate",i),f.yb(3),f.Ab("candidateNotActive",!1===i.isActive),f.yb(1),f.rc(" ",i.name," "),f.yb(1),f.dc("color",i.coveragePctColor)("value",i.coveragePct)}}var N,P,A,S=[{path:"",component:(N=function(){function n(t,e,i,a,o,c){r(this,n),this.router=t,this.store=e,this.msgService=i,this.modalCtrl=a,this.candidatesDelegator=o,this.langProvider=c,this.filterStatus="active",this.isInit=!1}return o(n,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,i,r,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.candidatesDelegator.getCandidates();case 2:n=t.sent,this.candidates=n.sort((function(t,e){var n,i;return(null!==(n=t.listOrder)&&void 0!==n?n:t.number)-(null!==(i=e.listOrder)&&void 0!==i?i:e.number)})),i=e(this.candidates);try{for(i.s();!(r=i.n()).done;)(a=r.value).coveragePct=Math.random(),a.coveragePctColor=a.coveragePct>.66?"secondary":a.coveragePct>.33?"warning":"danger"}catch(o){i.e(o)}finally{i.f()}this.isInit=!0;case 7:case"end":return t.stop()}}),t,this)})))}},{key:"onCadidateSelected",value:function(t){this.router.navigate(["tabs/candidates/candidate-details/dummy",{candidateId:t.name}],{skipLocationChange:!0})}},{key:"doReorder",value:function(t){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Dragged from index",t.detail.from,"to",t.detail.to),this.candidates=t.detail.complete(this.candidates),this.reorderCandidates(),e.next=5,this.candidatesDelegator.updateCandidates(this.candidates);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"reorderCandidates",value:function(){var n,i=e(this.candidates.entries());try{for(i.s();!(n=i.n()).done;){var r=t(n.value,2),a=r[0];r[1].listOrder=a}}catch(o){i.e(o)}finally{i.f()}}},{key:"trackByFn",value:function(t,e){return e?e._id:t}},{key:"showCandidatesFilters",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:g,swipeToClose:!0,componentProps:{status:this.filterStatus}});case 2:return e=t.sent,t.next=5,e.present();case 5:return t.next=7,e.onWillDismiss();case 7:n=t.sent,this.applyCandidatesFilters(n.data);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"applyCandidatesFilters",value:function(t){this.filterStatus=t}},{key:"checkVisibiltyStatus",value:function(t){var e,n=!0;return"active"===this.filterStatus?n=null===(e=t.isActive)||void 0===e||e:"notActive"===this.filterStatus&&(n=!1===t.isActive),!n}},{key:"changeActiveStatus",value:function(t,e){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.isActive=e,t.statusChangeDate=new Date,n.next=4,this.candidatesDelegator.updateCandidates([t]);case 4:if(!e){n.next=9;break}return n.next=7,this.msgService.showToast(this.langProvider.CandidateStatusChangedActive(t),500,"toastSuccess");case 7:n.next=11;break;case 9:return n.next=11,this.msgService.showToast(this.langProvider.CandidateStatusChangedNotActive(t),500,"toastWarn");case 11:this.candidatesList.closeSlidingItems();case 12:case"end":return n.stop()}}),n,this)})))}}]),n}(),N.\u0275fac=function(t){return new(t||N)(f.Ib(u.f),f.Ib(p.a),f.Ib(m.a),f.Ib(l.eb),f.Ib(h.a),f.Ib(v.b))},N.\u0275cmp=f.Cb({type:N,selectors:[["app-candidtes"]],viewQuery:function(t,e){var n;1&t&&f.tc(l.D,!0),2&t&&f.gc(n=f.Wb())&&(e.candidatesList=n.first)},inputs:{candidates:"candidates"},decls:19,vars:6,consts:[["slot","start"],["slot","end"],[3,"click"],["slot","icon-only","name","options"],[1,"candidatesContainer",3,"fullscreen"],["disabled","false",3,"ionItemReorder"],[4,"ngFor","ngForOf","ngForTrackBy"],["horizontal","end","vertical","bottom","slot","fixed","cdkDrag","","cdkDragBoundary",".candidatesContainer"],["color","dark",2,"opacity","0.6"],["md","caret-up","ios","chevron-up-circle-outline"],["side","top"],["color","dark"],["name","person-add"],["side","end"],["color","success",3,"click",4,"ngIf","ngIfElse"],["notActive",""],["button","",3,"hidden","click"],["slot","start",1,"candi",3,"candidate"],[1,"candidateLabel"],[1,"candidateName"],[1,"candidateProgress",3,"color","value"],["color","success",3,"click"],["color","danger",3,"click"]],template:function(t,e){1&t&&(f.Nb(0,"ion-header"),f.Nb(1,"ion-toolbar"),f.Nb(2,"ion-buttons",0),f.Jb(3,"ion-menu-button"),f.Mb(),f.Nb(4,"ion-title"),f.pc(5),f.Mb(),f.Nb(6,"ion-buttons",1),f.Nb(7,"ion-button",2),f.Vb("click",(function(){return e.showCandidatesFilters()})),f.Jb(8,"ion-icon",3),f.Mb(),f.Mb(),f.Mb(),f.Mb(),f.Nb(9,"ion-content",4),f.Nb(10,"ion-list"),f.Nb(11,"ion-reorder-group",5),f.Vb("ionItemReorder",(function(t){return e.doReorder(t)})),f.nc(12,k,13,9,"ion-item-sliding",6),f.Mb(),f.Mb(),f.Nb(13,"ion-fab",7),f.Nb(14,"ion-fab-button",8),f.Jb(15,"ion-icon",9),f.Mb(),f.Nb(16,"ion-fab-list",10),f.Nb(17,"ion-fab-button",11),f.Jb(18,"ion-icon",12),f.Mb(),f.Mb(),f.Mb(),f.Mb()),2&t&&(f.yb(4),f.mc("direction",e.langProvider.LangDirection),f.yb(1),f.qc(e.langProvider.Candidates),f.yb(4),f.dc("fullscreen",!0),f.yb(3),f.dc("ngForOf",e.candidates)("ngForTrackBy",e.trackByFn))},directives:[l.s,l.Z,l.k,l.F,l.X,l.j,l.t,l.n,l.D,l.K,s.l,l.o,y.a,l.p,l.q,l.B,l.A,s.m,l.w,C.a,l.C,l.G,l.J,l.z],styles:[".circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;border-radius:50px;min-height:40px;min-width:40px;text-align:center;display:flex;margin-top:.2rem;margin-bottom:.2rem}.candi[_ngcontent-%COMP%]{height:var(--avatar-height);width:var(--avatar-width);margin:var(--avatar-margin)}.avatar[_ngcontent-%COMP%]{display:grid;align-items:center;text-align:center}.avatarItem[_ngcontent-%COMP%]{grid-row:1;grid-column:1}.avatarTxtItem[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#000;opacity:.4}.img[_ngcontent-%COMP%]{background:none}.noImg[_ngcontent-%COMP%]{background:#d3d3d3}.candidateLabel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.candidateName[_ngcontent-%COMP%]{margin-left:1rem;text-overflow:ellipsis;white-space:normal;width:70%}.candidateNotActive[_ngcontent-%COMP%]{color:var(--ion-color-danger)}.candidateProgress[_ngcontent-%COMP%]{width:30%}"]}),N)}],O=((P=function t(){r(this,t)}).\u0275mod=f.Gb({type:P}),P.\u0275inj=f.Fb({factory:function(t){return new(t||P)},imports:[[u.h.forChild(S)],u.h]}),P),I=a("ajeZ"),x=((A=function t(){r(this,t)}).\u0275mod=f.Gb({type:A}),A.\u0275inj=f.Fb({factory:function(t){return new(t||A)},imports:[[s.c,d.a,l.bb,O,y.f,I.a]]}),A)}}])}();