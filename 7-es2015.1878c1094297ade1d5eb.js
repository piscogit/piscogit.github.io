(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"/i5F":function(t,n,e){"use strict";e.r(n),e.d(n,"OrderedPageModule",function(){return w});var o=e("ofXK"),c=e("3Pt+"),i=e("TEn/"),a=e("tyNb"),s=e("mrSG"),r=e("fXoL");class d{constructor(t,n){this.item=t,this.isHandled=n}}let b=(()=>{class t{}return t.ItemClick="ItemClick",t})();class l{constructor(t,n=null,e=null){this.type=t,this.desc=n,this.color=e}}function g(t,n){if(1&t){const t=r.Qb();r.Pb(0,"button",5),r.Xb("click",function(){r.kc(t);const e=n.$implicit;return r.Zb(2).onActionBtnClick(e)}),r.rc(1),r.Ob()}if(2&t){const t=n.$implicit;r.oc("background",t.color),r.Ab(1),r.tc(" ",t.desc," ")}}function f(t,n){if(1&t&&(r.Pb(0,"div",3),r.pc(1,g,2,3,"button",4),r.Ob()),2&t){const t=r.Zb();r.Ab(1),r.fc("ngForOf",t.keysActions)}}function u(t,n){if(1&t){const t=r.Qb();r.Pb(0,"div",7),r.Pb(1,"button",8),r.Xb("click",function(e){r.kc(t);const o=n.index,c=r.Zb().index,i=r.Zb();return i.onBtnItemClick(i.keysItems[c*i.columns.length+o],e)}),r.Pb(2,"span"),r.rc(3),r.Ob(),r.Ob(),r.Ob()}if(2&t){const t=n.index,e=r.Zb().index,o=r.Zb();r.Ab(1),r.fc("id",e+t)("disabled",e*o.columns.length+t>o.keysItems.length-1),r.Ab(1),r.Cb("handled",null==o.keysItems[e*o.columns.length+t]?null:o.keysItems[e*o.columns.length+t].isHandled),r.Ab(1),r.sc(null==o.keysItems[e*o.columns.length+t]?null:o.keysItems[e*o.columns.length+t].item)}}function m(t,n){if(1&t&&(r.Pb(0,"div",3),r.pc(1,u,4,5,"div",6),r.Ob()),2&t){const t=r.Zb();r.Ab(1),r.fc("ngForOf",t.columns)}}class p{constructor(t,n){this.item=t,this.isHandled=n}}let h=(()=>{class t{constructor(){this.keysAction=new r.o,this._curIndex=0,this.text="kokoriko",this.keysItems=[]}get curIndex(){const t=this._curIndex++;return console.log(`CurrIndex: ${t}`),t}ngOnInit(){const t=Math.sqrt(this.items.length);let n,e;t%1==0?n=e=t:(e=Math.round(t)+1,n=e*(e-1)>=this.items.length?e-1:e),this.rows=new Array(n),this.columns=new Array(e),this.keysItems=this.items.map(t=>new p(t._id,!1))}getBtnItem(t,n){return(t+n).toString()}onBtnItemClick(t,n){this.keysAction.emit({item:t.item,type:b.ItemClick,callback:n=>{t.isHandled=n.isHandled}})}onActionBtnClick(t){const n={type:t.type};n.callback=t=>{const n=this.keysItems.find(n=>n.item===t.item);n&&(n.isHandled=t.isHandled)},this.keysAction.emit(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=r.Eb({type:t,selectors:[["app-ckeyboard"]],inputs:{items:"items",keysActions:"keysActions"},outputs:{keysAction:"keysAction"},decls:3,vars:2,consts:[[1,"ck"],["class","ckrow",4,"ngIf"],["class","ckrow",4,"ngFor","ngForOf"],[1,"ckrow"],[3,"background","click",4,"ngFor","ngForOf"],[3,"click"],["class","ckcol",4,"ngFor","ngForOf"],[1,"ckcol"],[1,"ckcoltext","facebook",3,"id","disabled","click"]],template:function(t,n){1&t&&(r.Pb(0,"div",0),r.pc(1,f,2,1,"div",1),r.pc(2,m,2,1,"div",2),r.Ob()),2&t&&(r.Ab(1),r.fc("ngIf",n.keysActions),r.Ab(1),r.fc("ngForOf",n.rows))},directives:[o.m,o.l],styles:['.ckeyboard[_ngcontent-%COMP%]{height:100%}.ck[_ngcontent-%COMP%], .ckeyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.ck[_ngcontent-%COMP%]{flex-direction:column;height:100%;justify-content:left;padding:0}.ck[_ngcontent-%COMP%], .ckrow[_ngcontent-%COMP%]{display:flex}.ckrow[_ngcontent-%COMP%]{flex-direction:row;flex-grow:1;width:100%}.ckcol[_ngcontent-%COMP%]{flex-basis:100%;flex-grow:1;margin:0;padding:0}.ckcoltext[_ngcontent-%COMP%]{align-items:center;background:grey;display:flex;height:100%;justify-content:center;width:100%}.handled[_ngcontent-%COMP%]{color:red}button.btn[_ngcontent-%COMP%]:before{-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 2px 5px #959595;-moz-box-shadow:0 2px 5px #959595;box-shadow:0 2px 5px #959595;content:"";display:block;height:100%;left:0;padding:2px 0 0;position:absolute;top:0}button.btn[_ngcontent-%COMP%]:active:before{padding:1px 0 0}button.btn.yahoo[_ngcontent-%COMP%]{background:#be95b7;background:linear-gradient(#be95b7,#5f396a);color:#fff;text-shadow:0 1px 0 #4d2955}button.btn.yahoo[_ngcontent-%COMP%], button.btn.yahoo[_ngcontent-%COMP%]:hover{border:1px solid #4b2a55;border-bottom:3px solid #4d2955;box-shadow:inset 0 0 0 1px #9c83a1}button.btn.yahoo[_ngcontent-%COMP%]:active, button.btn.yahoo[_ngcontent-%COMP%]:hover{background:#5f396a;background:linear-gradient(#5f396a,#be95b7)}button.btn.yahoo[_ngcontent-%COMP%]:active{border:1px solid #4b2a55;box-shadow:inset 0 10px 15px 0 #4d2955}button.dsgnmoo[_ngcontent-%COMP%]{background:#f97779;background:linear-gradient(#f97779,#ce2424);color:#fff;text-shadow:0 1px 0 #bd2524}button.dsgnmoo[_ngcontent-%COMP%], button.dsgnmoo[_ngcontent-%COMP%]:hover{border:1px solid #be2424;border-bottom:3px solid #bd2524;box-shadow:inset 0 0 0 1px #e67e7b}button.dsgnmoo[_ngcontent-%COMP%]:active, button.dsgnmoo[_ngcontent-%COMP%]:hover{background:#ce2424;background:linear-gradient(#ce2424,#f97779)}button.dsgnmoo[_ngcontent-%COMP%]:active{border:1px solid #be2424;box-shadow:inset 0 10px 15px 0 #bd2524}button.facebook[_ngcontent-%COMP%]{background:#99b6df;background:linear-gradient(#99b6df,#638ec8);color:#fff;text-shadow:0 1px 0 #3c61ab}button.facebook[_ngcontent-%COMP%], button.facebook[_ngcontent-%COMP%]:hover{border:1px solid #6d94ce;border-bottom:3px solid #3867ac;box-shadow:inset 0 0 0 1px #bbcfeb}button.facebook[_ngcontent-%COMP%]:active, button.facebook[_ngcontent-%COMP%]:hover{background:#638ec8;background:linear-gradient(#638ec8,#99b6df)}button.facebook[_ngcontent-%COMP%]:active{border:1px solid #6d94ce;box-shadow:inset 0 10px 15px 0 #4176c4}'],changeDetection:0}),t})();var k=e("ufmx"),O=e("L5fO");const v=["upper"];function y(t,n){if(1&t&&(r.Pb(0,"div"),r.Pb(1,"div",8),r.Pb(2,"span",9),r.rc(3),r.Ob(),r.Pb(4,"ion-avatar",10),r.rc(5),r.Ob(),r.Ob(),r.Ob()),2&t){const t=n.$implicit,e=n.index;r.Ab(3),r.tc("",e+1,"."),r.Ab(2),r.sc(t.number)}}const x=[{path:"",component:(()=>{class t{constructor(t,n){this.candidatesDelegator=t,this.langProvider=n,this.temp=Array.from(Array(40).keys()),this.orderedCandidates=[],this.keysActions=[]}ngOnInit(){return Object(s.a)(this,void 0,void 0,function*(){this.candidates=yield this.candidatesDelegator.getCandidates();const t=new l("Delete",this.langProvider.CatalogTaskDelete,"red");this.keysActions.push(t)})}ngOnDestroy(){}onKeysAction(t){switch(t.type){case b.ItemClick:{const n=this.candidates.find(n=>n._id===t.item);if(!n)throw Error("TODO ERROR HANDLING");null==this.orderedCandidates.find(n=>n.number.toString()===t.item)&&this.orderedCandidates.push(n),t.callback(new d(t.item,!0))}break;case"Delete":if(this.orderedCandidates.length>0){const n=this.orderedCandidates.pop();t.callback(new d(n.number.toString(),!1))}}this.orderedContainer.nativeElement.scrollTop=this.orderedContainer.nativeElement.scrollHeight}}return t.\u0275fac=function(n){return new(n||t)(r.Kb(k.a),r.Kb(O.b))},t.\u0275cmp=r.Eb({type:t,selectors:[["app-ordered"]],viewQuery:function(t,n){if(1&t&&(r.xc(h,1),r.xc(v,1)),2&t){let t;r.ic(t=r.Yb())&&(n.keyboard=t.first),r.ic(t=r.Yb())&&(n.orderedContainer=t.first)}},decls:13,vars:4,consts:[["slot","start"],[3,"fullscreen"],[1,"main"],["cscroller","",1,"upper"],["upper",""],[4,"ngFor","ngForOf"],[1,"ckeys"],[3,"items","keysActions","keysAction"],[1,"order-container"],[1,"order-item-position"],["color","primary",1,"order-item-circle"]],template:function(t,n){1&t&&(r.Pb(0,"ion-header"),r.Pb(1,"ion-toolbar"),r.Pb(2,"ion-buttons",0),r.Lb(3,"ion-menu-button"),r.Ob(),r.Pb(4,"ion-title"),r.rc(5,"Ordered"),r.Ob(),r.Ob(),r.Ob(),r.Pb(6,"ion-content",1),r.Pb(7,"div",2),r.Pb(8,"div",3,4),r.pc(10,y,6,2,"div",5),r.Ob(),r.Pb(11,"div",6),r.Pb(12,"app-ckeyboard",7),r.Xb("keysAction",function(t){return n.onKeysAction(t)}),r.Ob(),r.Ob(),r.Ob(),r.Ob()),2&t&&(r.Ab(6),r.fc("fullscreen",!0),r.Ab(4),r.fc("ngForOf",n.orderedCandidates),r.Ab(2),r.fc("items",n.candidates)("keysActions",n.keysActions))},directives:[i.s,i.Z,i.k,i.F,i.X,i.n,o.l,h,i.f],styles:[".main[_ngcontent-%COMP%]{flex-direction:column;height:100%;justify-content:space-between;min-height:0;min-width:0}.main[_ngcontent-%COMP%], .upper[_ngcontent-%COMP%]{display:flex;width:100%}.upper[_ngcontent-%COMP%]{flex-wrap:wrap;height:40%;overflow:scroll}.ckeys[_ngcontent-%COMP%]{height:60%}.order-container[_ngcontent-%COMP%]{align-items:center;display:flex;margin:10px 5px 5px 10px}.order-item-icon[_ngcontent-%COMP%]{font-size:2em;margin:0}.order-item-circle[_ngcontent-%COMP%]{align-items:center;align-self:flex-start;background:var(--ion-color-medium);display:flex;font-size:1em;height:1.5em;justify-content:center;text-align:center;width:1.5em}"],changeDetection:0}),t})()}];let P=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({imports:[[a.h.forChild(x)],a.h]}),t})();var C=e("ajeZ");let w=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({imports:[[o.c,c.a,i.bb,P,C.a]]}),t})()},ajeZ:function(t,n,e){"use strict";e.d(n,"a",function(){return d});var o=e("ofXK"),c=e("3Pt+"),i=e("TEn/"),a=e("g1yl"),s=e("pAvx"),r=e("fXoL");let d=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=r.Ib({type:t}),t.\u0275inj=r.Hb({imports:[[o.c,c.a,i.bb]]}),t})();r.mc(s.a,[i.D,o.l,i.w,a.a,o.m,i.t],[])},g1yl:function(t,n,e){"use strict";e.d(n,"a",function(){return h});var o=e("fXoL"),c=e("3LWr"),i=e("ufmx"),a=e("TEn/"),s=e("ofXK");function r(t,n){if(1&t&&o.Lb(0,"img",7),2&t){const t=o.Zb(2);o.fc("src",t.candidate.ImgUrl,o.lc)}}function d(t,n){1&t&&o.Lb(0,"img",8)}function b(t,n){if(1&t&&(o.Pb(0,"span",9),o.rc(1),o.Ob()),2&t){const t=o.Zb(2);o.Cb("candidateNotActive",!1===t.candidate.isActive),o.Ab(1),o.tc(" ",t.candidate.number," ")}}function l(t,n){if(1&t&&(o.Nb(0),o.pc(1,r,1,1,"img",4),o.pc(2,d,1,0,"img",5),o.pc(3,b,2,3,"span",6),o.Mb()),2&t){const t=o.Zb();o.Ab(1),o.fc("ngIf",t.candidate.ImgUrl),o.Ab(1),o.fc("ngIf",!t.candidate.ImgUrl),o.Ab(1),o.fc("ngIf",!t.candidate.ImgUrl)}}function g(t,n){1&t&&o.Lb(0,"img",8)}function f(t,n){if(1&t&&o.Lb(0,"img",7),2&t){const t=o.Zb(2);o.fc("src",t.selectedSrc,o.lc)}}function u(t,n){if(1&t&&(o.Pb(0,"span",9),o.rc(1),o.Ob()),2&t){const t=o.Zb(2);o.Cb("candidateNotActive",!1===t.candidate.isActive),o.Ab(1),o.tc(" ",t.candidate.number," ")}}function m(t,n){if(1&t&&(o.pc(0,g,1,0,"img",10),o.pc(1,f,1,1,"ng-template",null,11,o.qc),o.pc(3,u,2,3,"span",6)),2&t){const t=o.jc(2),n=o.Zb();o.fc("ngIf",!n.isSelected)("ngIfElse",t),o.Ab(3),o.fc("ngIf",n.candidate)}}function p(t,n){if(1&t&&(o.Pb(0,"ion-badge",12),o.rc(1),o.Ob()),2&t){const t=o.Zb();o.Ab(1),o.sc(t.total)}}let h=(()=>{class t{constructor(t,n){this.store=t,this.candidatesDelegator=n}ngOnInit(){switch(this.candidateId&&(this.candidate=this.candidatesDelegator.getCandidatesByIds([this.candidateId])[0]),this.selectedStyle){case"gray":this.selectedSrc="./assets/images/avatar3.svg";break;case"redBlue":this.selectedSrc="./assets/images/avatar2.svg";break;default:this.selectedSrc="./assets/images/avatar3.svg"}}}return t.\u0275fac=function(n){return new(n||t)(o.Kb(c.a),o.Kb(i.a))},t.\u0275cmp=o.Eb({type:t,selectors:[["app-candidate-avatar"]],inputs:{candidate:"candidate",candidateId:"candidateId",total:"total",isShowTotal:"isShowTotal",isSelected:"isSelected",selectedStyle:"selectedStyle"},decls:5,vars:3,consts:[[1,"avatar"],[4,"ngIf","ngIfElse"],["noImg",""],["class","cbadge","color","warning",4,"ngIf"],["class","avatarItem",3,"src",4,"ngIf"],["src","./assets/images/avatar.svg","class","avatarItem",4,"ngIf"],["class","avatarItem avatarTxtItem",3,"candidateNotActive",4,"ngIf"],[1,"avatarItem",3,"src"],["src","./assets/images/avatar.svg",1,"avatarItem"],[1,"avatarItem","avatarTxtItem"],["src","./assets/images/avatar.svg","class","avatarItem",4,"ngIf","ngIfElse"],["selected",""],["color","warning",1,"cbadge"]],template:function(t,n){if(1&t&&(o.Pb(0,"ion-avatar",0),o.pc(1,l,4,3,"ng-container",1),o.pc(2,m,4,3,"ng-template",null,2,o.qc),o.Ob(),o.pc(4,p,2,1,"ion-badge",3)),2&t){const t=o.jc(3);o.Ab(1),o.fc("ngIf",n.candidate&&n.store.enviroment.isAvatarImages)("ngIfElse",t),o.Ab(3),o.fc("ngIf",n.isShowTotal&&n.total>0)}},directives:[a.f,s.m,a.i],styles:["[_nghost-%COMP%]{display:block;min-height:0;min-width:0}.avatar[_ngcontent-%COMP%], [_nghost-%COMP%]{height:100%;width:100%}.avatar[_ngcontent-%COMP%]{align-items:center;background:none;display:grid;text-align:center}.avatar[_ngcontent-%COMP%]:active{height:110%;opacity:.5;width:110%}.avatarItem[_ngcontent-%COMP%]{grid-column:1;grid-row:1}.avatarTxtItem[_ngcontent-%COMP%]{color:#000;font-size:1.5rem;font-weight:700;opacity:.6}.cbadge[_ngcontent-%COMP%]{border-radius:100%;left:-.4rem;margin:0;position:relative;top:-1rem}.candidateNotActive[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-weight:700;opacity:1}"]}),t})()}}]);