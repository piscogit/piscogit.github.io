!function(){function n(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function t(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"/i5F":function(n,o,i){"use strict";i.r(o),i.d(o,"OrderedPageModule",(function(){return F}));var c=i("ofXK"),r=i("3Pt+"),s=i("TEn/"),a=i("tyNb"),d=i("mrSG"),b=i("fXoL"),l=function n(t,o){e(this,n),this.item=t,this.isHandled=o},u=function(){var n=function n(){e(this,n)};return n.ItemClick="ItemClick",n}(),f=function n(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(this,n),this.type=t,this.desc=o,this.color=i};function g(n,t){if(1&n){var e=b.Ob();b.Nb(0,"button",5),b.Vb("click",(function(){b.ic(e);var n=t.$implicit;return b.Xb(2).onActionBtnClick(n)})),b.pc(1),b.Mb()}if(2&n){var o=t.$implicit;b.mc("background",o.color),b.yb(1),b.rc(" ",o.desc," ")}}function h(n,t){if(1&n&&(b.Nb(0,"div",3),b.nc(1,g,2,3,"button",4),b.Mb()),2&n){var e=b.Xb();b.yb(1),b.dc("ngForOf",e.keysActions)}}function p(n,t){if(1&n){var e=b.Ob();b.Nb(0,"div",7),b.Nb(1,"button",8),b.Vb("click",(function(n){b.ic(e);var o=t.index,i=b.Xb().index,c=b.Xb();return c.onBtnItemClick(c.keysItems[i*c.columns.length+o],n)})),b.Nb(2,"span"),b.pc(3),b.Mb(),b.Mb(),b.Mb()}if(2&n){var o=t.index,i=b.Xb().index,c=b.Xb();b.yb(1),b.dc("id",i+o)("disabled",i*c.columns.length+o>c.keysItems.length-1),b.yb(1),b.Ab("handled",null==c.keysItems[i*c.columns.length+o]?null:c.keysItems[i*c.columns.length+o].isHandled),b.yb(1),b.qc(null==c.keysItems[i*c.columns.length+o]?null:c.keysItems[i*c.columns.length+o].item)}}function m(n,t){if(1&n&&(b.Nb(0,"div",3),b.nc(1,p,4,5,"div",6),b.Mb()),2&n){var e=b.Xb();b.yb(1),b.dc("ngForOf",e.columns)}}var k,y=function n(t,o){e(this,n),this.item=t,this.isHandled=o},v=((k=function(){function n(){e(this,n),this.keysAction=new b.n,this._curIndex=0,this.text="kokoriko",this.keysItems=[]}return t(n,[{key:"ngOnInit",value:function(){var n,t,e=Math.sqrt(this.items.length);n=e%1==0?t=e:(t=Math.round(e)+1)*(t-1)>=this.items.length?t-1:t,this.rows=new Array(n),this.columns=new Array(t),this.keysItems=this.items.map((function(n){return new y(n._id,!1)}))}},{key:"getBtnItem",value:function(n,t){return(n+t).toString()}},{key:"onBtnItemClick",value:function(n,t){this.keysAction.emit({item:n.item,type:u.ItemClick,callback:function(t){n.isHandled=t.isHandled}})}},{key:"onActionBtnClick",value:function(n){var t=this,e={type:n.type,callback:function(n){var e=t.keysItems.find((function(t){return t.item===n.item}));e&&(e.isHandled=n.isHandled)}};this.keysAction.emit(e)}},{key:"curIndex",get:function(){var n=this._curIndex++;return console.log("CurrIndex: "+n),n}}]),n}()).\u0275fac=function(n){return new(n||k)},k.\u0275cmp=b.Cb({type:k,selectors:[["app-ckeyboard"]],inputs:{items:"items",keysActions:"keysActions"},outputs:{keysAction:"keysAction"},decls:3,vars:2,consts:[[1,"ck"],["class","ckrow",4,"ngIf"],["class","ckrow",4,"ngFor","ngForOf"],[1,"ckrow"],[3,"background","click",4,"ngFor","ngForOf"],[3,"click"],["class","ckcol",4,"ngFor","ngForOf"],[1,"ckcol"],[1,"ckcoltext","facebook",3,"id","disabled","click"]],template:function(n,t){1&n&&(b.Nb(0,"div",0),b.nc(1,h,2,1,"div",1),b.nc(2,m,2,1,"div",2),b.Mb()),2&n&&(b.yb(1),b.dc("ngIf",t.keysActions),b.yb(1),b.dc("ngForOf",t.rows))},directives:[c.m,c.l],styles:['.ckeyboard[_ngcontent-%COMP%]{height:100%}.ck[_ngcontent-%COMP%], .ckeyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.ck[_ngcontent-%COMP%]{height:100%;flex-direction:column;justify-content:left;padding:0}.ck[_ngcontent-%COMP%], .ckrow[_ngcontent-%COMP%]{display:flex}.ckrow[_ngcontent-%COMP%]{width:100%;flex-direction:row;flex-grow:1}.ckcol[_ngcontent-%COMP%]{flex-grow:1;margin:0;padding:0;flex-basis:100%}.ckcoltext[_ngcontent-%COMP%]{background:grey;height:100%;width:100%;display:flex;justify-content:center;align-items:center}.handled[_ngcontent-%COMP%]{color:red}button.btn[_ngcontent-%COMP%]:before{-webkit-border-radius:3px;-moz-border-radius:3px;-webkit-box-shadow:#959595 0 2px 5px;-moz-box-shadow:#959595 0 2px 5px;border-radius:3px;box-shadow:0 2px 5px #959595;content:"";display:block;height:100%;left:0;padding:2px 0 0;position:absolute;top:0}button.btn[_ngcontent-%COMP%]:active:before{padding:1px 0 0}button.btn.yahoo[_ngcontent-%COMP%]{background:#be95b7;background:linear-gradient(#be95b7,#5f396a);color:#fff;text-shadow:0 1px 0 #4d2955}button.btn.yahoo[_ngcontent-%COMP%], button.btn.yahoo[_ngcontent-%COMP%]:hover{border:1px solid #4b2a55;border-bottom:3px solid #4d2955;box-shadow:inset 0 0 0 1px #9c83a1}button.btn.yahoo[_ngcontent-%COMP%]:active, button.btn.yahoo[_ngcontent-%COMP%]:hover{background:#5f396a;background:linear-gradient(#5f396a,#be95b7)}button.btn.yahoo[_ngcontent-%COMP%]:active{border:1px solid #4b2a55;box-shadow:inset 0 10px 15px 0 #4d2955}button.dsgnmoo[_ngcontent-%COMP%]{background:#f97779;background:linear-gradient(#f97779,#ce2424);color:#fff;text-shadow:0 1px 0 #bd2524}button.dsgnmoo[_ngcontent-%COMP%], button.dsgnmoo[_ngcontent-%COMP%]:hover{border:1px solid #be2424;border-bottom:3px solid #bd2524;box-shadow:inset 0 0 0 1px #e67e7b}button.dsgnmoo[_ngcontent-%COMP%]:active, button.dsgnmoo[_ngcontent-%COMP%]:hover{background:#ce2424;background:linear-gradient(#ce2424,#f97779)}button.dsgnmoo[_ngcontent-%COMP%]:active{border:1px solid #be2424;box-shadow:inset 0 10px 15px 0 #bd2524}button.facebook[_ngcontent-%COMP%]{background:#99b6df;background:linear-gradient(#99b6df,#638ec8);color:#fff;text-shadow:0 1px 0 #3c61ab}button.facebook[_ngcontent-%COMP%], button.facebook[_ngcontent-%COMP%]:hover{border:1px solid #6d94ce;border-bottom:3px solid #3867ac;box-shadow:inset 0 0 0 1px #bbcfeb}button.facebook[_ngcontent-%COMP%]:active, button.facebook[_ngcontent-%COMP%]:hover{background:#638ec8;background:linear-gradient(#638ec8,#99b6df)}button.facebook[_ngcontent-%COMP%]:active{border:1px solid #6d94ce;box-shadow:inset 0 10px 15px 0 #4176c4}'],changeDetection:0}),k),x=i("ufmx"),C=i("L5fO"),M=["upper"];function O(n,t){if(1&n&&(b.Nb(0,"div"),b.Nb(1,"div",8),b.Nb(2,"span",9),b.pc(3),b.Mb(),b.Nb(4,"ion-avatar",10),b.pc(5),b.Mb(),b.Mb(),b.Mb()),2&n){var e=t.$implicit,o=t.index;b.yb(3),b.rc("",o+1,"."),b.yb(2),b.qc(e.number)}}var w,P,_,I=[{path:"",component:(w=function(){function n(t,o){e(this,n),this.candidatesDelegator=t,this.langProvider=o,this.temp=Array.from(Array(40).keys()),this.orderedCandidates=[],this.keysActions=[]}return t(n,[{key:"ngOnInit",value:function(){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.candidatesDelegator.getCandidates();case 2:this.candidates=n.sent,t=new f("Delete",this.langProvider.CatalogTaskDelete,"red"),this.keysActions.push(t);case 5:case"end":return n.stop()}}),n,this)})))}},{key:"ngOnDestroy",value:function(){}},{key:"onKeysAction",value:function(n){switch(n.type){case u.ItemClick:var t=this.candidates.find((function(t){return t._id===n.item}));if(!t)throw Error("TODO ERROR HANDLING");null==this.orderedCandidates.find((function(t){return t.number.toString()===n.item}))&&this.orderedCandidates.push(t),n.callback(new l(n.item,!0));break;case"Delete":if(this.orderedCandidates.length>0){var e=this.orderedCandidates.pop();n.callback(new l(e.number.toString(),!1))}}this.orderedContainer.nativeElement.scrollTop=this.orderedContainer.nativeElement.scrollHeight}}]),n}(),w.\u0275fac=function(n){return new(n||w)(b.Ib(x.a),b.Ib(C.b))},w.\u0275cmp=b.Cb({type:w,selectors:[["app-ordered"]],viewQuery:function(n,t){var e;1&n&&(b.vc(v,!0),b.vc(M,!0)),2&n&&(b.gc(e=b.Wb())&&(t.keyboard=e.first),b.gc(e=b.Wb())&&(t.orderedContainer=e.first))},decls:13,vars:4,consts:[["slot","start"],[3,"fullscreen"],[1,"main"],["cscroller","",1,"upper"],["upper",""],[4,"ngFor","ngForOf"],[1,"ckeys"],[3,"items","keysActions","keysAction"],[1,"order-container"],[1,"order-item-position"],["color","primary",1,"order-item-circle"]],template:function(n,t){1&n&&(b.Nb(0,"ion-header"),b.Nb(1,"ion-toolbar"),b.Nb(2,"ion-buttons",0),b.Jb(3,"ion-menu-button"),b.Mb(),b.Nb(4,"ion-title"),b.pc(5,"Ordered"),b.Mb(),b.Mb(),b.Mb(),b.Nb(6,"ion-content",1),b.Nb(7,"div",2),b.Nb(8,"div",3,4),b.nc(10,O,6,2,"div",5),b.Mb(),b.Nb(11,"div",6),b.Nb(12,"app-ckeyboard",7),b.Vb("keysAction",(function(n){return t.onKeysAction(n)})),b.Mb(),b.Mb(),b.Mb(),b.Mb()),2&n&&(b.yb(6),b.dc("fullscreen",!0),b.yb(4),b.dc("ngForOf",t.orderedCandidates),b.yb(2),b.dc("items",t.candidates)("keysActions",t.keysActions))},directives:[s.s,s.Z,s.k,s.F,s.X,s.n,c.l,v,s.f],styles:[".main[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between;height:100%;min-height:0;min-width:0}.main[_ngcontent-%COMP%], .upper[_ngcontent-%COMP%]{display:flex;width:100%}.upper[_ngcontent-%COMP%]{height:40%;flex-wrap:wrap;overflow:scroll}.ckeys[_ngcontent-%COMP%]{height:60%}.order-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin:10px 5px 5px 10px}.order-item-icon[_ngcontent-%COMP%]{font-size:2em;margin:0}.order-item-circle[_ngcontent-%COMP%]{align-self:flex-start;justify-content:center;align-items:center;height:1.5em;width:1.5em;background:var(--ion-color-medium);text-align:center;display:flex;font-size:1em}"],changeDetection:0}),w)}],A=((P=function n(){e(this,n)}).\u0275mod=b.Gb({type:P}),P.\u0275inj=b.Fb({factory:function(n){return new(n||P)},imports:[[a.h.forChild(I)],a.h]}),P),N=i("ajeZ"),F=((_=function n(){e(this,n)}).\u0275mod=b.Gb({type:_}),_.\u0275inj=b.Fb({factory:function(n){return new(n||_)},imports:[[c.c,r.a,s.bb,A,N.a]]}),_)},ajeZ:function(n,t,o){"use strict";o.d(t,"a",(function(){return a}));var i=o("ofXK"),c=o("3Pt+"),r=o("TEn/"),s=o("fXoL"),a=function(){var n=function n(){e(this,n)};return n.\u0275mod=s.Gb({type:n}),n.\u0275inj=s.Fb({factory:function(t){return new(t||n)},imports:[[i.c,c.a,r.bb]]}),n}()}}])}();