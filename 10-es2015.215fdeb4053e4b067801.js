(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{nHoA:function(n,t,o){"use strict";o.r(t),o.d(t,"CommentsPageModule",function(){return S});var e=o("ofXK"),i=o("3Pt+"),c=o("TEn/"),a=o("tyNb"),r=o("mrSG"),s=o("kLqA"),b=o("fXoL"),m=o("ufmx"),l=o("nbnm"),d=o("nTzd"),f=o("zrcv"),u=o("L5fO"),h=o("3LWr"),g=o("5+WD"),p=o("g1yl");function C(n,t){if(1&n){const n=b.Qb();b.Pb(0,"ion-button",10),b.Xb("click",function(){return b.kc(n),b.Zb(2).showSearchbar(!0)}),b.Lb(1,"ion-icon",12),b.Ob()}}function O(n,t){if(1&n){const n=b.Qb();b.Nb(0),b.Pb(1,"ion-buttons",7),b.Lb(2,"ion-menu-button"),b.Ob(),b.Pb(3,"ion-buttons",8),b.pc(4,C,2,0,"ion-button",9),b.Pb(5,"ion-button",10),b.Xb("click",function(){return b.kc(n),b.Zb().showCommentsFilters()}),b.Lb(6,"ion-icon",11),b.Ob(),b.Ob(),b.Pb(7,"ion-title"),b.rc(8),b.Ob(),b.Mb()}if(2&n){const n=b.Zb();b.Ab(4),b.fc("ngIf",!n.isShowSearchbar),b.Ab(3),b.oc("direction",n.langProvider.LangDirection),b.Ab(1),b.tc(" ",n.langProvider.Comments," ")}}function k(n,t){if(1&n){const n=b.Qb();b.Pb(0,"ion-searchbar",13),b.Xb("ngModelChange",function(t){return b.kc(n),b.Zb().searchCommentsStr=t})("ionChange",function(){return b.kc(n),b.Zb().updateComments()})("ionCancel",function(){return b.kc(n),b.Zb().showSearchbar(!1)}),b.Ob()}if(2&n){const n=b.Zb();b.fc("ngModel",n.searchCommentsStr)}}function v(n,t){if(1&n&&(b.Pb(0,"span"),b.rc(1),b.Ob()),2&n){const n=b.Zb().$implicit;b.Ab(1),b.sc(n.TaskDescRef.description)}}function w(n,t){if(1&n&&(b.Pb(0,"span"),b.rc(1),b.Ob()),2&n){const n=b.Zb(2);b.Ab(1),b.sc(n.langProvider.GeneralComment)}}function y(n,t){1&n&&b.Lb(0,"app-candidate-avatar",23),2&n&&b.fc("candidate",t.$implicit)}function P(n,t){if(1&n&&(b.Pb(0,"div",21),b.pc(1,y,1,1,"app-candidate-avatar",22),b.Ob()),2&n){const n=b.Zb().$implicit,t=b.Zb();b.Ab(1),b.fc("ngForOf",n.candidates)("ngForTrackBy",t.trackByFn)}}function I(n,t){if(1&n){const n=b.Qb();b.Pb(0,"ion-item",14),b.Xb("click",function(){b.kc(n);const o=t.$implicit;return b.Zb().editComment(o)}),b.Pb(1,"ion-label"),b.Pb(2,"div",15),b.rc(3),b.ac(4,"date"),b.Ob(),b.Pb(5,"div",16),b.pc(6,v,2,1,"span",17),b.pc(7,w,2,1,"ng-template",null,18,b.qc),b.Ob(),b.Pb(9,"span",19),b.rc(10),b.Ob(),b.pc(11,P,2,2,"div",20),b.Ob(),b.Ob()}if(2&n){const n=t.$implicit,o=b.jc(8),e=b.Zb();b.Ab(1),b.oc("direction",e.langProvider.LangDirection),b.Ab(2),b.tc(" ",b.cc(4,7,n.date,"dd/MM/yy HH:mm:ss")," "),b.Ab(3),b.fc("ngIf",n.TaskDescRef)("ngIfElse",o),b.Ab(4),b.sc(null==n?null:n.comment),b.Ab(1),b.fc("ngIf",null==n?null:n.candidates)}}const A=[{path:"",component:(()=>{class n{constructor(n,t,o,e,i,c,a){this.router=n,this.candidatesDelegator=t,this.entityNamer=o,this.tasksDelegator=e,this.msgService=i,this.langProvider=c,this.store=a,this.comments=[],this.subscription={},this.isInit=!1}ngOnInit(){return Object(r.a)(this,void 0,void 0,function*(){this.subscription.lastCommentsChangeDateTime=this.store.lastCommentsChangeDateTime.subscribe(n=>Object(r.a)(this,void 0,void 0,function*(){let n;try{n=yield this.msgService.showLoader(),this.comments=yield this.tasksDelegator.loadComments()}finally{n.dismiss()}})),this.isInit=!0})}ngOnDestroy(){for(const n in this.subscription)Object.prototype.hasOwnProperty.call(this.subscription,n)&&this.subscription[n].unsubscribe()}ngAfterViewInit(){return Object(r.a)(this,void 0,void 0,function*(){})}ionViewWillEnter(){return Object(r.a)(this,void 0,void 0,function*(){})}ionViewWillLeave(){return Object(r.a)(this,void 0,void 0,function*(){})}createComment(){this.router.navigate(["tabs/comments/create-comment"],{skipLocationChange:!0})}showSearchbar(n){this.isShowSearchbar=n}editComment(n){const t={id:s.Guid.raw(),data:n};this.store.editComment.next(t),this.router.navigate(["tabs/comments/create-comment",{Navigate:t.id}],{skipLocationChange:!0})}showCommentsFilters(){}updateComments(){}trackByFn(n,t){return t?t._id:n}}return n.\u0275fac=function(t){return new(t||n)(b.Kb(a.f),b.Kb(m.a),b.Kb(l.a),b.Kb(d.a),b.Kb(f.a),b.Kb(u.b),b.Kb(h.a))},n.\u0275cmp=b.Eb({type:n,selectors:[["app-comments"]],decls:10,vars:4,consts:[[4,"ngIf"],["class","searchbar","showCancelButton","always",3,"ngModel","ngModelChange","ionChange","ionCancel",4,"ngIf"],[1,"container"],["button","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["horizontal","start","vertical","bottom","slot","fixed","cdkDrag","","cdkDragBoundary",".container"],["color","primary",3,"click"],["name","chatbox-ellipses"],["slot","start"],["slot","end"],[3,"click",4,"ngIf"],[3,"click"],["slot","icon-only","name","options"],["slot","icon-only","name","search"],["showCancelButton","always",1,"searchbar",3,"ngModel","ngModelChange","ionChange","ionCancel"],["button","",3,"click"],[1,"commentDate"],[1,"commentTask"],[4,"ngIf","ngIfElse"],["elseNoTaskDesk",""],[1,"commentTxt"],["class","commentCandidates",4,"ngIf"],[1,"commentCandidates"],["class","avatarComment",3,"candidate",4,"ngFor","ngForOf","ngForTrackBy"],[1,"avatarComment",3,"candidate"]],template:function(n,t){1&n&&(b.Pb(0,"ion-header"),b.Pb(1,"ion-toolbar"),b.pc(2,O,9,4,"ng-container",0),b.pc(3,k,1,1,"ion-searchbar",1),b.Ob(),b.Ob(),b.Pb(4,"ion-content",2),b.Pb(5,"ion-list"),b.pc(6,I,12,10,"ion-item",3),b.Ob(),b.Pb(7,"ion-fab",4),b.Pb(8,"ion-fab-button",5),b.Xb("click",function(){return t.createComment()}),b.Lb(9,"ion-icon",6),b.Ob(),b.Ob(),b.Ob()),2&n&&(b.Ab(2),b.fc("ngIf",!t.isShowSearchbar),b.Ab(1),b.fc("ngIf",t.isShowSearchbar),b.Ab(3),b.fc("ngForOf",t.comments)("ngForTrackBy",t.trackByFn))},directives:[c.s,c.Z,e.m,c.n,c.D,e.l,c.o,g.a,c.p,c.t,c.k,c.F,c.j,c.X,c.N,c.lb,i.e,i.h,c.w,c.C,p.a],pipes:[e.e],styles:[".avatarComment[_ngcontent-%COMP%]{height:2rem;margin:.5rem .2rem 0;width:2rem}.commentCandidates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.commentDate[_ngcontent-%COMP%]{color:var(--ion-color-medium);display:flex;font-size:.7rem;justify-content:flex-end;margin-bottom:.2rem}.commentTxt[_ngcontent-%COMP%]{white-space:normal}.commentTask[_ngcontent-%COMP%]{color:var(--ion-color-tertiary);margin-bottom:.2rem}"]}),n})()}];let D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b.Ib({type:n}),n.\u0275inj=b.Hb({imports:[[a.h.forChild(A)],a.h]}),n})();var F=o("ajeZ");let S=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=b.Ib({type:n}),n.\u0275inj=b.Hb({imports:[[e.c,i.a,c.bb,D,g.f,F.a]]}),n})()}}]);