!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{nHoA:function(e,i,a){"use strict";a.r(i),a.d(i,"CommentsPageModule",(function(){return j}));var r=a("ofXK"),o=a("3Pt+"),c=a("TEn/"),s=a("tyNb"),b=a("mrSG"),u=a("kLqA"),m=a("fXoL"),l=a("ufmx"),d=a("nbnm"),f=a("nTzd"),h=a("zrcv"),p=a("L5fO"),g=a("3LWr"),v=a("5+WD"),y=a("g1yl");function C(n,t){if(1&n){var e=m.Ob();m.Nb(0,"ion-button",11),m.Vb("click",(function(){return m.ic(e),m.Xb(2).showSearchbar(!0)})),m.Jb(1,"ion-icon",13),m.Mb()}}function k(n,t){if(1&n){var e=m.Ob();m.Lb(0),m.Nb(1,"ion-buttons",8),m.Jb(2,"ion-menu-button"),m.Mb(),m.Nb(3,"ion-buttons",9),m.nc(4,C,2,0,"ion-button",10),m.Nb(5,"ion-button",11),m.Vb("click",(function(){return m.ic(e),m.Xb().showCommentsFilters()})),m.Jb(6,"ion-icon",12),m.Mb(),m.Mb(),m.Nb(7,"ion-title"),m.pc(8),m.Mb(),m.Kb()}if(2&n){var i=m.Xb();m.yb(4),m.dc("ngIf",!i.isShowSearchbar),m.yb(3),m.mc("direction",i.langProvider.LangDirection),m.yb(1),m.rc(" ",i.langProvider.Comments," ")}}function w(n,t){if(1&n){var e=m.Ob();m.Nb(0,"ion-searchbar",14),m.Vb("ngModelChange",(function(n){return m.ic(e),m.Xb().searchCommentsStr=n}))("ionChange",(function(){return m.ic(e),m.Xb().updateComments()}))("ionCancel",(function(){return m.ic(e),m.Xb().showSearchbar(!1)})),m.Mb()}if(2&n){var i=m.Xb();m.dc("ngModel",i.searchCommentsStr)}}function M(n,t){if(1&n&&(m.Nb(0,"span"),m.pc(1),m.Mb()),2&n){var e=m.Xb().$implicit;m.yb(1),m.qc(e.TaskDescRef.description)}}function N(n,t){if(1&n&&(m.Nb(0,"span"),m.pc(1),m.Mb()),2&n){var e=m.Xb(2);m.yb(1),m.qc(e.langProvider.GeneralComment)}}function I(n,t){1&n&&m.Jb(0,"app-candidate-avatar",24),2&n&&m.dc("candidate",t.$implicit)}function O(n,t){if(1&n&&(m.Nb(0,"div",22),m.nc(1,I,1,1,"app-candidate-avatar",23),m.Mb()),2&n){var e=m.Xb().$implicit,i=m.Xb();m.yb(1),m.dc("ngForOf",e.candidates)("ngForTrackBy",i.trackByFn)}}function x(n,t){if(1&n){var e=m.Ob();m.Nb(0,"div"),m.Nb(1,"ion-item",15),m.Vb("click",(function(){m.ic(e);var n=t.$implicit;return m.Xb().editComment(n)})),m.Nb(2,"ion-label"),m.Nb(3,"div",16),m.pc(4),m.Yb(5,"date"),m.Mb(),m.Nb(6,"div",17),m.nc(7,M,2,1,"span",18),m.nc(8,N,2,1,"ng-template",null,19,m.oc),m.Mb(),m.Nb(10,"span",20),m.pc(11),m.Mb(),m.nc(12,O,2,2,"div",21),m.Mb(),m.Mb(),m.Mb()}if(2&n){var i=t.$implicit,a=m.hc(9),r=m.Xb();m.yb(2),m.mc("direction",r.langProvider.LangDirection),m.yb(2),m.rc(" ",m.ac(5,7,i.date,"dd/MM/yy HH:mm:ss")," "),m.yb(3),m.dc("ngIf",i.TaskDescRef)("ngIfElse",a),m.yb(4),m.qc(null==i?null:i.comment),m.yb(1),m.dc("ngIf",null==i?null:i.candidates)}}var D,S,X,P=[{path:"",component:(D=function(){function e(t,i,a,r,o,c,s){n(this,e),this.router=t,this.candidatesDelegator=i,this.entityNamer=a,this.tasksDelegator=r,this.msgService=o,this.langProvider=c,this.store=s,this.comments=[],this.subscription={},this.isInit=!1}var i,a,r;return i=e,(a=[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.subscription.lastCommentsChangeDateTime=this.store.lastCommentsChangeDateTime.subscribe((function(n){return Object(b.a)(t,void 0,void 0,regeneratorRuntime.mark((function n(){var t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.msgService.showLoader();case 3:return t=n.sent,n.next=6,this.candidatesDelegator.getCandidatesCopy();case 6:return this.candidates=n.sent,n.next=9,this.tasksDelegator.loadComments();case 9:this.comments=n.sent;case 10:return n.prev=10,t.dismiss(),n.finish(10);case 13:case"end":return n.stop()}}),n,this,[[0,,10,13]])})))})),n.next=3,this.candidatesDelegator.getCandidatesCopy();case 3:this.candidates=n.sent,this.isInit=!0;case 5:case"end":return n.stop()}}),n,this)})))}},{key:"ngOnDestroy",value:function(){for(var n in this.subscription)Object.prototype.hasOwnProperty.call(this.subscription,n)&&this.subscription[n].unsubscribe()}},{key:"ngAfterViewInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})))}},{key:"ionViewWillEnter",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})))}},{key:"ionViewWillLeave",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}}),n)})))}},{key:"createComment",value:function(){this.router.navigate(["tabs/comments/create-comment"],{skipLocationChange:!0})}},{key:"showSearchbar",value:function(n){this.isShowSearchbar=n}},{key:"editComment",value:function(n){var t={id:u.Guid.raw(),data:n};this.store.editComment.next(t),this.router.navigate(["tabs/comments/create-comment",{Navigate:t.id}],{skipLocationChange:!0})}},{key:"showCommentsFilters",value:function(){}},{key:"updateComments",value:function(){}},{key:"trackByFn",value:function(n,t){return t?t._id:n}}])&&t(i.prototype,a),r&&t(i,r),e}(),D.\u0275fac=function(n){return new(n||D)(m.Ib(s.f),m.Ib(l.a),m.Ib(d.a),m.Ib(f.a),m.Ib(h.a),m.Ib(p.b),m.Ib(g.a))},D.\u0275cmp=m.Cb({type:D,selectors:[["app-comments"]],decls:10,vars:4,consts:[[4,"ngIf"],["class","searchbar","showCancelButton","always",3,"ngModel","ngModelChange","ionChange","ionCancel",4,"ngIf"],[1,"container"],["approxItemHeight","135px",3,"items","trackBy"],[4,"virtualItem"],["horizontal","start","vertical","bottom","slot","fixed","cdkDrag","","cdkDragBoundary",".container"],["color","primary",3,"click"],["name","chatbox-ellipses"],["slot","start"],["slot","end"],[3,"click",4,"ngIf"],[3,"click"],["slot","icon-only","name","options"],["slot","icon-only","name","search"],["showCancelButton","always",1,"searchbar",3,"ngModel","ngModelChange","ionChange","ionCancel"],["button","",3,"click"],[1,"commentDate"],[1,"commentTask"],[4,"ngIf","ngIfElse"],["elseNoTaskDesk",""],[1,"commentTxt"],["class","commentCandidates",4,"ngIf"],[1,"commentCandidates"],["class","avatarComment",3,"candidate",4,"ngFor","ngForOf","ngForTrackBy"],[1,"avatarComment",3,"candidate"]],template:function(n,t){1&n&&(m.Nb(0,"ion-header"),m.Nb(1,"ion-toolbar"),m.nc(2,k,9,4,"ng-container",0),m.nc(3,w,1,1,"ion-searchbar",1),m.Mb(),m.Mb(),m.Nb(4,"ion-content",2),m.Nb(5,"ion-virtual-scroll",3),m.nc(6,x,13,10,"div",4),m.Mb(),m.Nb(7,"ion-fab",5),m.Nb(8,"ion-fab-button",6),m.Vb("click",(function(){return t.createComment()})),m.Jb(9,"ion-icon",7),m.Mb(),m.Mb(),m.Mb()),2&n&&(m.yb(2),m.dc("ngIf",!t.isShowSearchbar),m.yb(1),m.dc("ngIf",t.isShowSearchbar),m.yb(2),m.dc("items",t.comments)("trackBy",t.trackByFn))},directives:[c.s,c.Z,r.m,c.n,c.ab,c.nb,c.o,v.a,c.p,c.t,c.k,c.F,c.j,c.X,c.N,c.lb,o.d,o.g,c.w,c.C,r.l,y.a],pipes:[r.e],styles:[".avatarComment[_ngcontent-%COMP%]{height:2rem;width:2rem;margin:.5rem .2rem 0}.commentCandidates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.commentDate[_ngcontent-%COMP%]{font-size:.7rem;margin-bottom:.2rem;display:flex;justify-content:flex-end;color:var(--ion-color-medium)}.commentTxt[_ngcontent-%COMP%]{white-space:normal}.commentTask[_ngcontent-%COMP%]{margin-bottom:.2rem;color:var(--ion-color-tertiary)}"]}),D)}],T=((S=function t(){n(this,t)}).\u0275mod=m.Gb({type:S}),S.\u0275inj=m.Fb({factory:function(n){return new(n||S)},imports:[[s.h.forChild(P)],s.h]}),S),F=a("ajeZ"),j=((X=function t(){n(this,t)}).\u0275mod=m.Gb({type:X}),X.\u0275inj=m.Fb({factory:function(n){return new(n||X)},imports:[[r.c,o.a,c.bb,T,v.f,F.a]]}),X)}}])}();