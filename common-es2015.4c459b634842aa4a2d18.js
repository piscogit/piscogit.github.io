(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"74mu":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return a});const r=(e,t)=>null!==t.closest(e),o=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,[`ion-color-${e}`]:!0},t):t,i=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},s=/^[a-z][a-z0-9+\-.]*:/,a=async(e,t,n,r)=>{if(null!=e&&"#"!==e[0]&&!s.test(e)){const o=document.querySelector("ion-router");if(o)return null!=t&&t.preventDefault(),o.push(e,n,r)}return!1}},Cbio:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o=n("XgeJ"),i=n("fXoL"),s=n("o6Vy"),a=n("zrcv");let c=(()=>{class e{constructor(e,t,n){this.audioRecorderService=e,this.syncService=t,this.msgService=n,this.recordState="Stopped",this.audioRecorderService.recorderError.subscribe(e=>{try{console.log(e)}catch(t){}try{console.log(JSON.stringify(e))}catch(n){}})}handleAudio(){return Object(r.a)(this,void 0,void 0,function*(){this.audioRecorderService.startRecording(),this.msgService.showToast("Start Recording"),yield new Promise(e=>setTimeout(e,5e3));const e=yield this.audioRecorderService.stopRecording(o.c.WEBM_BLOB);yield e.text(),yield e.arrayBuffer(),this.msgService.showToast("Stop Recording");const t=new FormData;t.append("audioFile",e);const n=yield this.syncService.uploadComment(t);return this.msgService.showToast(n.text),e})}startRecording(){this.audioRecorderService.startRecording()}stopRecording(){return Object(r.a)(this,void 0,void 0,function*(){return yield this.audioRecorderService.stopRecording(o.c.WEBM_BLOB)})}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(o.b),i.Tb(s.a),i.Tb(a.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},JbSX:function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("wEJo"),o=n("qULd"),i=n("iWo5");const s=(e,t)=>{let n,s;const a=(e,r,o)=>{if("undefined"==typeof document)return;const i=document.elementFromPoint(e,r);i&&t(i)?i!==n&&(d(),c(i,o)):d()},c=(e,t)=>{n=e,s||(s=n);const o=n;Object(r.f)(()=>o.classList.add("ion-activated")),t()},d=(e=!1)=>{if(!n)return;const t=n;Object(r.f)(()=>t.classList.remove("ion-activated")),e&&s!==n&&n.click(),n=void 0};return Object(i.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>a(e.currentX,e.currentY,o.a),onMove:e=>a(e.currentX,e.currentY,o.b),onEnd:()=>{d(!0),Object(o.e)(),s=void 0}})}},RybT:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("fXoL"),o=n("pQKU"),i=n("Gwuq"),s=n("TtBN"),a=n("nTzd");let c=(()=>{class e{constructor(e,t,n,r){this.basketDelegator=e,this.formsDelegator=t,this.orderedDelegator=n,this.tasksDelegator=r}getTaskDelegator(e){let t;switch(e.toLowerCase()){case"baskets":t=this.basketDelegator;break;case"forms":t=this.formsDelegator;break;case"ordered":t=this.orderedDelegator;break;case"comment":t=this.tasksDelegator;break;default:throw new Error(`Task delegator for type: ${e} does not exist !!!`)}return t}}return e.\u0275fac=function(t){return new(t||e)(r.Tb(o.a),r.Tb(i.a),r.Tb(s.a),r.Tb(a.a))},e.\u0275prov=r.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},VVJX:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("fXoL");let o=(()=>{class e{constructor(e){this.viewContainerRef=e}}return e.\u0275fac=function(t){return new(t||e)(r.Kb(r.Q))},e.\u0275dir=r.Fb({type:e,selectors:[["","appTaskHost",""]]}),e})()},a6kD:function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n("mrSG"),o=n("AytR"),i=n("fXoL"),s=n("TEn/"),a=n("L5fO");let c=(()=>{class e{constructor(e,t){this.popupCtrl=e,this.langProvider=t,this.isDismised=!1}ngOnInit(){var e;return Object(r.a)(this,void 0,void 0,function*(){yield new Promise(e=>setTimeout(e,o.a.commentRecordTimeout)),this.isDismised||(null===(e=this.popupCtrl)||void 0===e||e.dismiss(),console.log("Timeot record dismiss"))})}ngOnDestroy(){this.isDismised=!0}stopRecord(){var e;null===(e=this.popupCtrl)||void 0===e||e.dismiss("closed")}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(s.ib),i.Kb(a.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-record-comment"]],decls:3,vars:0,consts:[["src","./assets/images/record.png",1,"avatar"],["expand","full",3,"click"]],template:function(e,t){1&e&&(i.Lb(0,"img",0),i.Pb(1,"ion-button",1),i.Xb("click",function(){return t.stopRecord()}),i.rc(2,"Stop Record"),i.Ob())},directives:[s.j],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.avatar[_ngcontent-%COMP%]{height:50%;margin:auto;width:50%}"]}),e})()},acej:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return i});var r=n("1vRN");const o=async(e,t,n,o,i)=>{if(e)return e.attachViewToDom(t,n,i,o);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const s="string"==typeof n?t.ownerDocument&&t.ownerDocument.createElement(n):n;return o&&o.forEach(e=>s.classList.add(e)),i&&Object.assign(s,i),t.appendChild(s),await new Promise(e=>Object(r.c)(s,e)),s},i=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},h3R7:function(e,t,n){"use strict";n.d(t,"a",function(){return r});const r={bubbles:{dur:1e3,circles:9,fn:(e,t,n)=>{const r=e*t/n-e+"ms",o=2*Math.PI*t/n;return{r:5,style:{top:9*Math.sin(o)+"px",left:9*Math.cos(o)+"px","animation-delay":r}}}},circles:{dur:1e3,circles:8,fn:(e,t,n)=>{const r=t/n,o=e*r-e+"ms",i=2*Math.PI*r;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":o}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})}}},nTzd:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n("mrSG"),o=n("kLqA"),i=n("fXoL"),s=n("L5fO"),a=n("TEn/"),c=n("ofXK");function d(e,t){if(1&e&&(i.Pb(0,"span"),i.rc(1),i.Ob()),2&e){const e=i.Zb();i.Ab(1),i.uc("",e.langProvider.Comment,": ",e.comment.TaskDescRef.description,"")}}function l(e,t){if(1&e&&(i.Pb(0,"span"),i.rc(1),i.Ob()),2&e){const e=i.Zb();i.Ab(1),i.sc(e.langProvider.GeneralComment)}}let u=(()=>{class e{constructor(e){this.langProvider=e}ngOnInit(){this.calcHistory()}calcHistory(){this.comment=this.task}}return e.\u0275fac=function(t){return new(t||e)(i.Kb(s.b))},e.\u0275cmp=i.Eb({type:e,selectors:[["app-comment-candidate-history"]],decls:12,vars:9,consts:[[1,"header"],[4,"ngIf","ngIfElse"],["elseNoTaskDesk",""],[2,"direction","ltr"],[1,"commentTxt"]],template:function(e,t){if(1&e&&(i.Nb(0),i.Pb(1,"ion-item"),i.Pb(2,"ion-label"),i.Pb(3,"div",0),i.pc(4,d,2,2,"span",1),i.pc(5,l,2,1,"ng-template",null,2,i.qc),i.Pb(7,"span",3),i.rc(8),i.ac(9,"date"),i.Ob(),i.Ob(),i.Pb(10,"span",4),i.rc(11),i.Ob(),i.Ob(),i.Ob(),i.Mb()),2&e){const e=i.jc(6);i.Ab(1),i.oc("direction",t.langProvider.LangDirection),i.Ab(3),i.fc("ngIf",t.comment.TaskDescRef)("ngIfElse",e),i.Ab(4),i.sc(i.cc(9,6,t.task.date,"dd/MM/yy HH:mm:ss")),i.Ab(3),i.sc(null==t.comment?null:t.comment.comment)}},directives:[a.w,a.C,c.m],pipes:[c.e],styles:[".commentDate[_ngcontent-%COMP%]{color:var(--ion-color-medium);display:flex;font-size:.7rem;justify-content:flex-end;margin-bottom:.2rem}.commentTxt[_ngcontent-%COMP%]{white-space:normal}.commentTask[_ngcontent-%COMP%]{color:var(--ion-color-tertiary);margin-bottom:.2rem}.header[_ngcontent-%COMP%]{color:var(--ion-color-medium);display:flex;justify-content:space-between;width:100%}"]}),e})();var m=n("h7jJ"),f=n("ufmx"),h=n("nbnm");let p=(()=>{class e{constructor(e,t,n){this.dataProvider=e,this.candidatesDelegator=t,this.entityNamer=n,this.commentsPrefix="comments",this.savedCommentPrefix="savedComment"}mergeTasksAndCandidateComments(e,t){return Object(r.a)(this,void 0,void 0,function*(){return[...e,...t].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())})}loadCandidateComments(e){return Object(r.a)(this,void 0,void 0,function*(){const t=`${this.entityNamer.userPrefix()}@${this.commentsPrefix}@${e}@`;return yield this.dataProvider.loadEntitiesByPrefix(t)})}loadComments(){return Object(r.a)(this,void 0,void 0,function*(){const e=`${this.entityNamer.userPrefix()}@${this.commentsPrefix}`;return(yield this.dataProvider.loadEntitiesByPrefix(e)).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).reduce((e,t,n)=>{const r=e.length>0?e[e.length-1]:null,o=this.candidatesDelegator.getCandidatesByIds([t.candidateId]);if(r&&t.comment===r.comment&&new Date(t.date).getTime()===r.date.getTime())e[e.length-1].candidates.push(...o),e[e.length-1].SavedComments.push(t);else{const n={comment:t.comment,candidates:o,date:new Date(t.date),SavedComments:[t],TaskDescRef:t.TaskDescRef};e.push(n)}return e},[])})}deleteComments(e){return Object(r.a)(this,void 0,void 0,function*(){yield this.dataProvider.deleteEntities(e)})}createComment(e){var t;return Object(r.a)(this,void 0,void 0,function*(){const n=[],r=null!==(t=e.date)&&void 0!==t?t:new Date,i=`${this.entityNamer.userPrefix()}@${this.commentsPrefix}`;let s;s=e.TaskDescRef?e.TaskDescRef.type:"general";for(const t of e.candidates){const a={type:"comment",_id:`${i}@${t._id}@${s}@${o.Guid.raw()}`,date:r,candidateId:t._id,comment:e.comment,tags:e.tags,TaskDescRef:e.TaskDescRef};n.push(a)}return yield this.dataProvider.saveEntities(n)})}createSavedComment(e){return Object(r.a)(this,void 0,void 0,function*(){const t={type:"savedComment",_id:`${this.entityNamer.userPrefix()}@${this.savedCommentPrefix}@${o.Guid.raw()}`,comment:e.comment};return yield this.dataProvider.saveEntity(t)})}loadSavedComments(){return Object(r.a)(this,void 0,void 0,function*(){const e=`${this.entityNamer.userPrefix()}@${this.savedCommentPrefix}`;return yield this.dataProvider.loadEntitiesByPrefix(e)})}deleteSavedComment(e){return Object(r.a)(this,void 0,void 0,function*(){yield this.dataProvider.deleteEntity(e)})}getTaskConfig(e){throw new Error("Method not implemented.")}getTaskName(){throw new Error("Method not implemented.")}saveTask(e,t){throw new Error("Method not implemented.")}loadTask(e){throw new Error("Method not implemented.")}getTaskHistory(){throw new Error("Method not implemented.")}getComponent(){throw new Error("Method not implemented.")}getComponentRoute(){throw new Error("Method not implemented.")}getHistoryComponent(){throw new Error("Method not implemented.")}getCandidateHistoryComponent(){return u}getCandidateAggregateComponent(){throw new Error("Method not implemented.")}deleteTask(e){throw new Error("Method not implemented.")}getTasksForCandidates(e){throw new Error("Method not implemented.")}checkTaskEmpty(e,t){throw new Error("Method not implemented.")}exportCopy(e,t){throw new Error("Method not implemented.")}}return e.\u0275fac=function(t){return new(t||e)(i.Tb(m.a),i.Tb(f.a),i.Tb(h.a))},e.\u0275prov=i.Gb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},qULd:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return a});const r={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})},notification(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},o=()=>{r.selection()},i=()=>{r.selectionStart()},s=()=>{r.selectionChanged()},a=()=>{r.selectionEnd()},c=e=>{r.impact(e)}},qtYk:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n("ofXK"),o=n("3Pt+"),i=n("TEn/"),s=n("fXoL");let a=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Ib({type:e}),e.\u0275inj=s.Hb({imports:[[r.c,o.a,i.bb]]}),e})()},xO3T:function(e,t,n){"use strict";n.r(t),n.d(t,"Baskets2PageModule",function(){return m});var r=n("ofXK"),o=n("3Pt+"),i=n("TEn/"),s=n("tyNb"),a=n("CIRo"),c=n("fXoL");const d=[{path:"",component:a.a}];let l=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[s.h.forChild(d)],s.h]}),e})();var u=n("ajeZ");let m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Ib({type:e}),e.\u0275inj=c.Hb({imports:[[r.c,o.a,i.bb,l,u.a]]}),e})()}}]);