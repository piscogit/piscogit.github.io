(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"/i5F":function(t,n,e){"use strict";e.r(n),e.d(n,"OrderedPageModule",(function(){return O}));var o=e("ofXK"),i=e("3Pt+"),c=e("TEn/"),r=e("tyNb"),s=e("fXoL");class d{constructor(t,n){this.item=t,this.isHandled=n}}let a=(()=>{class t{}return t.ItemClick="ItemClick",t})();class b{constructor(t,n=null,e=null){this.type=t,this.desc=n,this.color=e}}function l(t,n){if(1&t){const t=s.Ob();s.Nb(0,"button",5),s.Vb("click",(function(){s.ic(t);const e=n.$implicit;return s.Xb(2).onActionBtnClick(e)})),s.pc(1),s.Mb()}if(2&t){const t=n.$implicit;s.mc("background",t.color),s.yb(1),s.rc(" ",t.desc," ")}}function g(t,n){if(1&t&&(s.Nb(0,"div",3),s.nc(1,l,2,3,"button",4),s.Mb()),2&t){const t=s.Xb();s.yb(1),s.dc("ngForOf",t.keysActions)}}function u(t,n){if(1&t){const t=s.Ob();s.Nb(0,"div",7),s.Nb(1,"button",8),s.Vb("click",(function(e){s.ic(t);const o=n.index,i=s.Xb().index,c=s.Xb();return c.onBtnItemClick(c.keysItems[i*c.columns.length+o],e)})),s.Nb(2,"span"),s.pc(3),s.Mb(),s.Mb(),s.Mb()}if(2&t){const t=n.index,e=s.Xb().index,o=s.Xb();s.yb(1),s.dc("id",e+t)("disabled",e*o.columns.length+t>o.keysItems.length-1),s.yb(1),s.Ab("handled",null==o.keysItems[e*o.columns.length+t]?null:o.keysItems[e*o.columns.length+t].isHandled),s.yb(1),s.qc(null==o.keysItems[e*o.columns.length+t]?null:o.keysItems[e*o.columns.length+t].item)}}function h(t,n){if(1&t&&(s.Nb(0,"div",3),s.nc(1,u,4,5,"div",6),s.Mb()),2&t){const t=s.Xb();s.yb(1),s.dc("ngForOf",t.columns)}}class p{constructor(t,n){this.item=t,this.isHandled=n}}let f=(()=>{class t{constructor(){this.keysAction=new s.n,this._curIndex=0,this.text="kokoriko",this.keysItems=[]}get curIndex(){const t=this._curIndex++;return console.log("CurrIndex: "+t),t}ngOnInit(){const t=Math.sqrt(this.items.length);let n,e;t%1==0?n=e=t:(e=Math.round(t)+1,n=e*(e-1)>=this.items.length?e-1:e),this.rows=new Array(n),this.columns=new Array(e),this.keysItems=this.items.map(t=>new p(t._id,!1))}getBtnItem(t,n){return(t+n).toString()}onBtnItemClick(t,n){this.keysAction.emit({item:t.item,type:a.ItemClick,callback:n=>{t.isHandled=n.isHandled}})}onActionBtnClick(t){const n={type:t.type};n.callback=t=>{const n=this.keysItems.find(n=>n.item===t.item);n&&(n.isHandled=t.isHandled)},this.keysAction.emit(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=s.Cb({type:t,selectors:[["app-ckeyboard"]],inputs:{items:"items",keysActions:"keysActions"},outputs:{keysAction:"keysAction"},decls:3,vars:2,consts:[[1,"ck"],["class","ckrow",4,"ngIf"],["class","ckrow",4,"ngFor","ngForOf"],[1,"ckrow"],[3,"background","click",4,"ngFor","ngForOf"],[3,"click"],["class","ckcol",4,"ngFor","ngForOf"],[1,"ckcol"],[1,"ckcoltext","facebook",3,"id","disabled","click"]],template:function(t,n){1&t&&(s.Nb(0,"div",0),s.nc(1,g,2,1,"div",1),s.nc(2,h,2,1,"div",2),s.Mb()),2&t&&(s.yb(1),s.dc("ngIf",n.keysActions),s.yb(1),s.dc("ngForOf",n.rows))},directives:[o.l,o.k],styles:['.ckeyboard[_ngcontent-%COMP%]{height:100%}.ck[_ngcontent-%COMP%], .ckeyboard[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0}.ck[_ngcontent-%COMP%]{height:100%;flex-direction:column;justify-content:left;padding:0}.ck[_ngcontent-%COMP%], .ckrow[_ngcontent-%COMP%]{display:flex}.ckrow[_ngcontent-%COMP%]{width:100%;flex-direction:row;flex-grow:1}.ckcol[_ngcontent-%COMP%]{flex-grow:1;margin:0;padding:0;flex-basis:100%}.ckcoltext[_ngcontent-%COMP%]{background:grey;height:100%;width:100%;display:flex;justify-content:center;align-items:center}.handled[_ngcontent-%COMP%]{color:red}button.btn[_ngcontent-%COMP%]:before{-webkit-border-radius:3px;-moz-border-radius:3px;-webkit-box-shadow:#959595 0 2px 5px;-moz-box-shadow:#959595 0 2px 5px;border-radius:3px;box-shadow:0 2px 5px #959595;content:"";display:block;height:100%;left:0;padding:2px 0 0;position:absolute;top:0}button.btn[_ngcontent-%COMP%]:active:before{padding:1px 0 0}button.btn.yahoo[_ngcontent-%COMP%]{background:#be95b7;background:linear-gradient(#be95b7,#5f396a);color:#fff;text-shadow:0 1px 0 #4d2955}button.btn.yahoo[_ngcontent-%COMP%], button.btn.yahoo[_ngcontent-%COMP%]:hover{border:1px solid #4b2a55;border-bottom:3px solid #4d2955;box-shadow:inset 0 0 0 1px #9c83a1}button.btn.yahoo[_ngcontent-%COMP%]:active, button.btn.yahoo[_ngcontent-%COMP%]:hover{background:#5f396a;background:linear-gradient(#5f396a,#be95b7)}button.btn.yahoo[_ngcontent-%COMP%]:active{border:1px solid #4b2a55;box-shadow:inset 0 10px 15px 0 #4d2955}button.dsgnmoo[_ngcontent-%COMP%]{background:#f97779;background:linear-gradient(#f97779,#ce2424);color:#fff;text-shadow:0 1px 0 #bd2524}button.dsgnmoo[_ngcontent-%COMP%], button.dsgnmoo[_ngcontent-%COMP%]:hover{border:1px solid #be2424;border-bottom:3px solid #bd2524;box-shadow:inset 0 0 0 1px #e67e7b}button.dsgnmoo[_ngcontent-%COMP%]:active, button.dsgnmoo[_ngcontent-%COMP%]:hover{background:#ce2424;background:linear-gradient(#ce2424,#f97779)}button.dsgnmoo[_ngcontent-%COMP%]:active{border:1px solid #be2424;box-shadow:inset 0 10px 15px 0 #bd2524}button.facebook[_ngcontent-%COMP%]{background:#99b6df;background:linear-gradient(#99b6df,#638ec8);color:#fff;text-shadow:0 1px 0 #3c61ab}button.facebook[_ngcontent-%COMP%], button.facebook[_ngcontent-%COMP%]:hover{border:1px solid #6d94ce;border-bottom:3px solid #3867ac;box-shadow:inset 0 0 0 1px #bbcfeb}button.facebook[_ngcontent-%COMP%]:active, button.facebook[_ngcontent-%COMP%]:hover{background:#638ec8;background:linear-gradient(#638ec8,#99b6df)}button.facebook[_ngcontent-%COMP%]:active{border:1px solid #6d94ce;box-shadow:inset 0 10px 15px 0 #4176c4}'],changeDetection:0}),t})();var m=e("h7jJ"),k=e("L5fO");const y=["upper"];function x(t,n){if(1&t&&(s.Nb(0,"div"),s.Nb(1,"div",8),s.Nb(2,"span",9),s.pc(3),s.Mb(),s.Nb(4,"ion-avatar",10),s.pc(5),s.Mb(),s.Mb(),s.Mb()),2&t){const t=n.$implicit,e=n.index;s.yb(3),s.rc("",e+1,"."),s.yb(2),s.qc(t.number)}}const C=[{path:"",component:(()=>{class t{constructor(t,n){this.dataProvider=t,this.langProvider=n,this.temp=Array.from(Array(40).keys()),this.orderedCandidates=[],this.keysActions=[]}ngOnInit(){this.candidates=this.dataProvider.getCandidates();const t=new b("Delete",this.langProvider.CatalogTaskDelete,"red");this.keysActions.push(t)}ngOnDestroy(){}onKeysAction(t){switch(t.type){case a.ItemClick:{const n=this.candidates.find(n=>n._id===t.item);if(!n)throw Error("TODO ERROR HANDLING");null==this.orderedCandidates.find(n=>n.number.toString()===t.item)&&this.orderedCandidates.push(n),t.callback(new d(t.item,!0))}break;case"Delete":if(this.orderedCandidates.length>0){const n=this.orderedCandidates.pop();t.callback(new d(n.number.toString(),!1))}}this.orderedContainer.nativeElement.scrollTop=this.orderedContainer.nativeElement.scrollHeight}}return t.\u0275fac=function(n){return new(n||t)(s.Ib(m.a),s.Ib(k.b))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-ordered"]],viewQuery:function(t,n){var e;1&t&&(s.tc(f,!0),s.tc(y,!0)),2&t&&(s.gc(e=s.Wb())&&(n.keyboard=e.first),s.gc(e=s.Wb())&&(n.orderedContainer=e.first))},decls:13,vars:4,consts:[["slot","start"],[3,"fullscreen"],[1,"main"],["cscroller","",1,"upper"],["upper",""],[4,"ngFor","ngForOf"],[1,"ckeys"],[3,"items","keysActions","keysAction"],[1,"order-container"],[1,"order-item-position"],["color","primary",1,"order-item-circle"]],template:function(t,n){1&t&&(s.Nb(0,"ion-header"),s.Nb(1,"ion-toolbar"),s.Nb(2,"ion-buttons",0),s.Jb(3,"ion-menu-button"),s.Mb(),s.Nb(4,"ion-title"),s.pc(5,"Ordered"),s.Mb(),s.Mb(),s.Mb(),s.Nb(6,"ion-content",1),s.Nb(7,"div",2),s.Nb(8,"div",3,4),s.nc(10,x,6,2,"div",5),s.Mb(),s.Nb(11,"div",6),s.Nb(12,"app-ckeyboard",7),s.Vb("keysAction",(function(t){return n.onKeysAction(t)})),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.yb(6),s.dc("fullscreen",!0),s.yb(4),s.dc("ngForOf",n.orderedCandidates),s.yb(2),s.dc("items",n.candidates)("keysActions",n.keysActions))},directives:[c.r,c.W,c.k,c.E,c.U,c.n,o.k,f,c.f],styles:[".main[_ngcontent-%COMP%]{flex-direction:column;justify-content:space-between;height:100%;min-height:0;min-width:0}.main[_ngcontent-%COMP%], .upper[_ngcontent-%COMP%]{display:flex;width:100%}.upper[_ngcontent-%COMP%]{height:40%;flex-wrap:wrap;overflow:scroll}.ckeys[_ngcontent-%COMP%]{height:60%}.order-container[_ngcontent-%COMP%]{display:flex;align-items:center;margin:10px 5px 5px 10px}.order-item-icon[_ngcontent-%COMP%]{font-size:2em;margin:0}.order-item-circle[_ngcontent-%COMP%]{align-self:flex-start;justify-content:center;align-items:center;height:1.5em;width:1.5em;background:var(--ion-color-medium);text-align:center;display:flex;font-size:1em}"],changeDetection:0}),t})()}];let M=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(n){return new(n||t)},imports:[[r.i.forChild(C)],r.i]}),t})(),O=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(n){return new(n||t)},imports:[[o.b,i.a,c.Y,M]]}),t})()}}]);