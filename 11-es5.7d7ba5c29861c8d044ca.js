!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function n(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{x5Jj:function(t,r,i){"use strict";i.r(r),i.d(r,"PouchbPlayPageModule",function(){return O});var o=i("ofXK"),c=i("3Pt+"),a=i("TEn/"),s=i("tyNb"),u=i("mrSG"),b=i("a6kD"),l=i("fXoL"),d=i("h7jJ"),h=i("4UqN"),p=i("Lrti"),v=i("o6Vy"),f=i("6nr9"),m=i("nbnm"),g=i("zrcv"),y=i("VYsW"),w=i("Cbio"),k=i("jhN1"),S=["video"];function R(e,t){if(1&e&&l.Mb(0,"audio",4),2&e){var n=l.bc();l.hc("src",n.audioSrc,l.nc)}}var x,P,D,j=[{path:"",component:(x=function(){function t(n,r,i,o,c,a,s,u,b,l,d,h,p){e(this,t),this.dataProvider=n,this.setupService=r,this.validationService=i,this.syncService=o,this.settingsService=c,this.entityNamer=a,this.msgService=s,this.appContext=u,this.micService=b,this.sanitizer=l,this.actionCtrl=d,this.popupCtrl=h,this.modalCtrl=p}return n(t,[{key:"ngOnInit",value:function(){}},{key:"sync",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataProvider.syncToCouch();case 2:return e.next=4,this.msgService.showToast("DB Synced",500);case 4:case"end":return e.stop()}},e,this)}))}},{key:"dropDb",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setupService.clearSetup();case 2:return e.next=4,this.dataProvider.dropDb();case 4:return location.reload(),e.next=7,this.msgService.showToast("DB Dropped",500);case 7:case"end":return e.stop()}},e,this)}))}},{key:"compactDb",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataProvider.compactDb();case 2:return e.next=4,this.msgService.showToast("DB Compacted",500);case 4:case"end":return e.stop()}},e,this)}))}},{key:"getAllTasks",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dataProvider.getAllTasks();case 2:t=e.sent,this.msgService.showModal(JSON.stringify(t));case 4:case"end":return e.stop()}},e,this)}))}},{key:"googleSheet",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.validationService.validate();case 3:t=e.sent,this.msgService.showModal("".concat(t),null,"ltr"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.msgService.showMessage(null==e.t0?void 0:e.t0.message);case 10:case"end":return e.stop()}},e,this,[[0,7]])}))}},{key:"playVideo",value:function(){this.videoSrc="./assets/videos/VID-20200320-WA0027.mp4",this.videoPlayer.nativeElement.load(),this.videoPlayer.nativeElement.play()}},{key:"sendMail",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=encodeURI(this.entityNamer.userPrefix()),n=this.settingsService.getSettingsItem("targetDataMail"),e.next=4,this.dataProvider.getAllDocs();case 4:r=e.sent,i=JSON.stringify(r),window.location.href="mailto:".concat(n,"?subject=").concat(t,"&body=").concat(i);case 7:case"end":return e.stop()}},e,this)}))}},{key:"micStt",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.micService.handleAudio();case 3:t=e.sent,n=URL.createObjectURL(t),r=this.sanitizer.bypassSecurityTrustUrl(n),this.audioSrc=r,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),this.msgService.showModal(JSON.stringify(e.t0));case 12:case"end":return e.stop()}},e,this,[[0,9]])}))}},{key:"temp",value:function(){return Object(u.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.popupCtrl.create({component:b.a,backdropDismiss:!1,componentProps:{}});case 2:return t=e.sent,e.next=5,t.present();case 5:return e.next=7,t.onWillDismiss();case 7:n=e.sent,console.log(n.data);case 9:case"end":return e.stop()}},e,this)}))}}]),t}(),x.\u0275fac=function(e){return new(e||x)(l.Lb(d.a),l.Lb(h.a),l.Lb(p.a),l.Lb(v.a),l.Lb(f.a),l.Lb(m.a),l.Lb(g.a),l.Lb(y.a),l.Lb(w.a),l.Lb(k.b),l.Lb(a.a),l.Lb(a.ib),l.Lb(a.eb))},x.\u0275cmp=l.Fb({type:x,selectors:[["app-pouchb-play"]],viewQuery:function(e,t){var n;1&e&&l.zc(S,1),2&e&&l.kc(n=l.ac())&&(t.videoPlayer=n.first)},decls:26,vars:1,consts:[["slot","end"],["defaultHref","/"],["expand","full","color","secondary",3,"click"],["id","player","type","audio/webm","controls","",3,"src",4,"ngIf"],["id","player","type","audio/webm","controls","",3,"src"]],template:function(e,t){1&e&&(l.Rb(0,"ion-header"),l.Rb(1,"ion-toolbar"),l.Rb(2,"ion-buttons",0),l.Mb(3,"ion-back-button",1),l.Qb(),l.Rb(4,"ion-title"),l.tc(5,"pouchbPlay"),l.Qb(),l.Qb(),l.Qb(),l.Rb(6,"ion-content"),l.Rb(7,"ion-button",2),l.Zb("click",function(){return t.dropDb()}),l.tc(8,"Drop DB"),l.Qb(),l.Rb(9,"ion-button",2),l.Zb("click",function(){return t.sync()}),l.tc(10,"Sync"),l.Qb(),l.Rb(11,"ion-button",2),l.Zb("click",function(){return t.compactDb()}),l.tc(12,"Compact DB"),l.Qb(),l.Rb(13,"ion-button",2),l.Zb("click",function(){return t.getAllTasks()}),l.tc(14,"Get All Tasks"),l.Qb(),l.Rb(15,"ion-button",2),l.Zb("click",function(){return t.googleSheet()}),l.tc(16,"Google Sheet"),l.Qb(),l.Rb(17,"ion-button",2),l.Zb("click",function(){return t.playVideo()}),l.tc(18,"Video"),l.Qb(),l.Rb(19,"ion-button",2),l.Zb("click",function(){return t.sendMail()}),l.tc(20,"Mail"),l.Qb(),l.Rb(21,"ion-button",2),l.Zb("click",function(){return t.micStt()}),l.tc(22,"Mic Stt"),l.Qb(),l.Rb(23,"ion-button",2),l.Zb("click",function(){return t.temp()}),l.tc(24,"Temp"),l.Qb(),l.rc(25,R,1,1,"audio",3),l.Qb()),2&e&&(l.Bb(25),l.hc("ngIf",t.audioSrc))},directives:[a.s,a.Z,a.k,a.g,a.h,a.X,a.n,a.j,o.m],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;overflow:hidden}.video[_ngcontent-%COMP%]{height:auto;width:100%}"]}),x)}],L=((D=n(function t(){e(this,t)})).\u0275fac=function(e){return new(e||D)},D.\u0275mod=l.Jb({type:D}),D.\u0275inj=l.Ib({imports:[[s.h.forChild(j)],s.h]}),D),O=((P=n(function t(){e(this,t)})).\u0275fac=function(e){return new(e||P)},P.\u0275mod=l.Jb({type:P}),P.\u0275inj=l.Ib({imports:[[o.c,c.a,a.bb,L]]}),P)}}])}();