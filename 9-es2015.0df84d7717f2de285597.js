(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"5Ma4":function(t,i,e){"use strict";e.r(i),e.d(i,"CandidtesPageModule",(function(){return N}));var n=e("ofXK"),a=e("3Pt+"),o=e("TEn/"),c=e("tyNb"),r=e("mrSG"),s=e("fXoL"),d=e("L5fO");let l=(()=>{class t{constructor(t,i){this.modalCtrl=t,this.langProvider=i}ngOnInit(){}applyFilters(t){this.modalCtrl.dismiss(t)}}return t.\u0275fac=function(i){return new(i||t)(s.Ib(o.db),s.Ib(d.b))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-candidates-filter"]],inputs:{status:"status"},decls:19,vars:9,consts:[["translucent","true"],[3,"value"],["button","",3,"click"],["slot","start","value","active"],["slot","start","value","notActive"],["slot","start","value","all"]],template:function(t,i){1&t&&(s.Nb(0,"ion-header",0),s.Nb(1,"ion-toolbar"),s.Nb(2,"ion-title"),s.Nb(3,"span"),s.pc(4),s.Mb(),s.Mb(),s.Mb(),s.Nb(5,"ion-list"),s.Nb(6,"ion-radio-group",1),s.Nb(7,"ion-item",2),s.Vb("click",(function(){return i.applyFilters("active")})),s.Nb(8,"ion-label"),s.pc(9),s.Mb(),s.Jb(10,"ion-radio",3),s.Mb(),s.Nb(11,"ion-item",2),s.Vb("click",(function(){return i.applyFilters("notActive")})),s.Nb(12,"ion-label"),s.pc(13),s.Mb(),s.Jb(14,"ion-radio",4),s.Mb(),s.Nb(15,"ion-item",2),s.Vb("click",(function(){return i.applyFilters("all")})),s.Nb(16,"ion-label"),s.pc(17),s.Mb(),s.Jb(18,"ion-radio",5),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.yb(2),s.mc("direction",i.langProvider.LangDirection),s.yb(2),s.qc(i.langProvider.Select),s.yb(1),s.mc("direction",i.langProvider.LangDirection),s.yb(1),s.dc("value",i.status),s.yb(3),s.qc(i.langProvider.CandidatesFilterActive),s.yb(4),s.qc(i.langProvider.CandidatesFilterNotActive),s.yb(4),s.qc(i.langProvider.CandidatesFilterAll))},directives:[o.r,o.Y,o.W,o.C,o.H,o.ib,o.v,o.B,o.G,o.hb],styles:[""]}),t})();var b=e("3LWr"),u=e("zrcv"),g=e("ufmx"),v=e("g1yl");function p(t,i){if(1&t){const t=s.Ob();s.Nb(0,"ion-item-option",15),s.Vb("click",(function(){s.ic(t);const i=s.Xb().$implicit;return s.Xb().changeActiveStatus(i,!0)})),s.Nb(1,"span"),s.pc(2),s.Mb(),s.Mb()}if(2&t){const t=s.Xb(2);s.yb(2),s.qc(t.langProvider.CandidateActive)}}function m(t,i){if(1&t){const t=s.Ob();s.Nb(0,"ion-item-option",16),s.Vb("click",(function(){s.ic(t);const i=s.Xb().$implicit;return s.Xb().changeActiveStatus(i,!1)})),s.Nb(1,"span"),s.pc(2),s.Mb(),s.Mb()}if(2&t){const t=s.Xb(2);s.yb(2),s.qc(t.langProvider.CandidateNotActive)}}function h(t,i){if(1&t){const t=s.Ob();s.Nb(0,"ion-item-sliding"),s.Nb(1,"ion-item-options",7),s.nc(2,p,3,1,"ion-item-option",8),s.nc(3,m,3,1,"ng-template",null,9,s.oc),s.Mb(),s.Nb(5,"ion-item",10),s.Vb("click",(function(){s.ic(t);const e=i.$implicit;return s.Xb().onCadidateSelected(e)})),s.Jb(6,"app-candidate-avatar",11),s.Nb(7,"ion-label"),s.Nb(8,"div",12),s.Nb(9,"span",13),s.pc(10),s.Mb(),s.Jb(11,"ion-progress-bar",14),s.Mb(),s.Mb(),s.Jb(12,"ion-reorder",1),s.Mb(),s.Mb()}if(2&t){const t=i.$implicit,e=s.hc(4),n=s.Xb();s.yb(2),s.dc("ngIf",!1===t.isActive)("ngIfElse",e),s.yb(3),s.dc("hidden",n.checkVisibiltyStatus(t)),s.yb(1),s.dc("candidate",t),s.yb(4),s.qc(t.name),s.yb(1),s.dc("color",t.coveragePctColor)("value",t.coveragePct)}}const f=[{path:"",component:(()=>{class t{constructor(t,i,e,n,a,o){this.router=t,this.store=i,this.msgService=e,this.modalCtrl=n,this.candidatesDelegator=a,this.langProvider=o,this.filterStatus="active",this.isInit=!1}ngOnInit(){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.candidatesDelegator.getCandidates();this.candidates=t.sort((t,i)=>{var e,n;return(null!==(e=t.listOrder)&&void 0!==e?e:t.number)-(null!==(n=i.listOrder)&&void 0!==n?n:i.number)});for(const i of this.candidates)i.coveragePct=Math.random(),i.coveragePctColor=i.coveragePct>.66?"secondary":i.coveragePct>.33?"warning":"danger";this.isInit=!0}))}onCadidateSelected(t){this.router.navigate(["tabs/candidates/candidate-details/dummy",{candidateId:t.name}],{skipLocationChange:!0})}doReorder(t){console.log("Dragged from index",t.detail.from,"to",t.detail.to),this.candidates=t.detail.complete(this.candidates),this.reorderCandidates()}reorderCandidates(){for(const[t,i]of this.candidates.entries())i.listOrder=t}trackByFn(t,i){return i?i._id:t}showCandidatesFilters(){return Object(r.a)(this,void 0,void 0,(function*(){const t=yield this.modalCtrl.create({component:l,swipeToClose:!0,componentProps:{status:this.filterStatus}});yield t.present();const i=yield t.onWillDismiss();this.applyCandidatesFilters(i.data)}))}applyCandidatesFilters(t){this.filterStatus=t}checkVisibiltyStatus(t){var i;let e=!0;return"active"===this.filterStatus?e=null===(i=t.isActive)||void 0===i||i:"notActive"===this.filterStatus&&(e=!1===t.isActive),!e}changeActiveStatus(t,i){return Object(r.a)(this,void 0,void 0,(function*(){t.isActive=i,i?yield this.msgService.showToast(this.langProvider.CandidateStatusChangedActive(t),500,"toastSuccess"):yield this.msgService.showToast(this.langProvider.CandidateStatusChangedNotActive(t),500,"toastWarn"),this.candidatesList.closeSlidingItems()}))}}return t.\u0275fac=function(i){return new(i||t)(s.Ib(c.f),s.Ib(b.a),s.Ib(u.a),s.Ib(o.db),s.Ib(g.a),s.Ib(d.b))},t.\u0275cmp=s.Cb({type:t,selectors:[["app-candidtes"]],viewQuery:function(t,i){var e;1&t&&s.tc(o.C,!0),2&t&&s.gc(e=s.Wb())&&(i.candidatesList=e.first)},inputs:{candidates:"candidates"},decls:13,vars:6,consts:[["slot","start"],["slot","end"],[3,"click"],["slot","icon-only","name","options"],[1,"candidatesContainer",3,"fullscreen"],["disabled","false",3,"ionItemReorder"],[4,"ngFor","ngForOf","ngForTrackBy"],["side","end"],["color","success",3,"click",4,"ngIf","ngIfElse"],["notActive",""],["button","",3,"hidden","click"],["slot","start",1,"candi",3,"candidate"],[1,"candidateLabel"],[1,"candidateName"],[1,"candidateProgress",3,"color","value"],["color","success",3,"click"],["color","danger",3,"click"]],template:function(t,i){1&t&&(s.Nb(0,"ion-header"),s.Nb(1,"ion-toolbar"),s.Nb(2,"ion-buttons",0),s.Jb(3,"ion-menu-button"),s.Mb(),s.Nb(4,"ion-title"),s.pc(5),s.Mb(),s.Nb(6,"ion-buttons",1),s.Nb(7,"ion-button",2),s.Vb("click",(function(){return i.showCandidatesFilters()})),s.Jb(8,"ion-icon",3),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(9,"ion-content",4),s.Nb(10,"ion-list"),s.Nb(11,"ion-reorder-group",5),s.Vb("ionItemReorder",(function(t){return i.doReorder(t)})),s.nc(12,h,13,7,"ion-item-sliding",6),s.Mb(),s.Mb(),s.Mb()),2&t&&(s.yb(4),s.mc("direction",i.langProvider.LangDirection),s.yb(1),s.qc(i.langProvider.Candidates),s.yb(4),s.dc("fullscreen",!0),s.yb(3),s.dc("ngForOf",i.candidates)("ngForTrackBy",i.trackByFn))},directives:[o.r,o.Y,o.k,o.E,o.W,o.j,o.s,o.n,o.C,o.J,n.l,o.A,o.z,n.m,o.v,v.a,o.B,o.F,o.I,o.y],styles:[".circle[_ngcontent-%COMP%]{justify-content:center;align-items:center;border-radius:50px;min-height:40px;min-width:40px;text-align:center;display:flex;margin-top:.2rem;margin-bottom:.2rem}.candi[_ngcontent-%COMP%]{height:var(--avatar-height);width:var(--avatar-width);margin:var(--avatar-margin)}.avatar[_ngcontent-%COMP%]{display:grid;align-items:center;text-align:center}.avatarItem[_ngcontent-%COMP%]{grid-row:1;grid-column:1}.avatarTxtItem[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#000;opacity:.4}.img[_ngcontent-%COMP%]{background:none}.noImg[_ngcontent-%COMP%]{background:#d3d3d3}.candidateLabel[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.candidateName[_ngcontent-%COMP%]{margin-left:1rem;text-overflow:ellipsis;white-space:normal;width:70%}.candidateProgress[_ngcontent-%COMP%]{width:30%}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(i){return new(i||t)},imports:[[c.h.forChild(f)],c.h]}),t})();var C=e("5+WD"),M=e("ajeZ");let N=(()=>{class t{}return t.\u0275mod=s.Gb({type:t}),t.\u0275inj=s.Fb({factory:function(i){return new(i||t)},imports:[[n.c,a.a,o.ab,y,C.f,M.a]]}),t})()}}]);