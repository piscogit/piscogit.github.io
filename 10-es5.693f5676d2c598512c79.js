!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function e(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{nHoA:function(t,r,i){"use strict";i.r(r),i.d(r,"CommentsPageModule",function(){return P});var o=i("ofXK"),a=i("3Pt+"),c=i("TEn/"),s=i("tyNb"),b=i("mrSG"),u=i("kLqA"),m=i("fXoL"),l=i("ufmx"),f=i("nbnm"),h=i("nTzd"),d=i("zrcv"),g=i("L5fO"),p=i("3LWr"),v=i("5+WD"),k=i("g1yl");function w(n,t){if(1&n){var e=m.Sb();m.Rb(0,"ion-button",10),m.Zb("click",function(){return m.mc(e),m.bc(2).showSearchbar(!0)}),m.Mb(1,"ion-icon",12),m.Qb()}}function y(n,t){if(1&n){var e=m.Sb();m.Pb(0),m.Rb(1,"ion-buttons",7),m.Mb(2,"ion-menu-button"),m.Qb(),m.Rb(3,"ion-buttons",8),m.rc(4,w,2,0,"ion-button",9),m.Rb(5,"ion-button",10),m.Zb("click",function(){return m.mc(e),m.bc().showCommentsFilters()}),m.Mb(6,"ion-icon",11),m.Qb(),m.Qb(),m.Rb(7,"ion-title"),m.tc(8),m.Qb(),m.Ob()}if(2&n){var r=m.bc();m.Bb(4),m.hc("ngIf",!r.isShowSearchbar),m.Bb(3),m.qc("direction",r.langProvider.LangDirection),m.Bb(1),m.vc(" ",r.langProvider.Comments," ")}}function C(n,t){if(1&n){var e=m.Sb();m.Rb(0,"ion-searchbar",13),m.Zb("ngModelChange",function(n){return m.mc(e),m.bc().searchCommentsStr=n})("ionChange",function(){return m.mc(e),m.bc().updateComments()})("ionCancel",function(){return m.mc(e),m.bc().showSearchbar(!1)}),m.Qb()}if(2&n){var r=m.bc();m.hc("ngModel",r.searchCommentsStr)}}function R(n,t){if(1&n&&(m.Rb(0,"span"),m.tc(1),m.Qb()),2&n){var e=m.bc().$implicit;m.Bb(1),m.uc(e.TaskDescRef.description)}}function B(n,t){if(1&n&&(m.Rb(0,"span"),m.tc(1),m.Qb()),2&n){var e=m.bc(2);m.Bb(1),m.uc(e.langProvider.GeneralComment)}}function O(n,t){1&n&&m.Mb(0,"app-candidate-avatar",23),2&n&&m.hc("candidate",t.$implicit)}function Q(n,t){if(1&n&&(m.Rb(0,"div",21),m.rc(1,O,1,1,"app-candidate-avatar",22),m.Qb()),2&n){var e=m.bc().$implicit,r=m.bc();m.Bb(1),m.hc("ngForOf",e.candidates)("ngForTrackBy",r.trackByFn)}}function S(n,t){if(1&n){var e=m.Sb();m.Rb(0,"ion-item",14),m.Zb("click",function(){m.mc(e);var n=t.$implicit;return m.bc().editComment(n)}),m.Rb(1,"ion-label"),m.Rb(2,"div",15),m.tc(3),m.cc(4,"date"),m.Qb(),m.Rb(5,"div",16),m.rc(6,R,2,1,"span",17),m.rc(7,B,2,1,"ng-template",null,18,m.sc),m.Qb(),m.Rb(9,"span",19),m.tc(10),m.Qb(),m.rc(11,Q,2,2,"div",20),m.Qb(),m.Qb()}if(2&n){var r=t.$implicit,i=m.lc(8),o=m.bc();m.Bb(1),m.qc("direction",o.langProvider.LangDirection),m.Bb(2),m.vc(" ",m.ec(4,7,r.date,"dd/MM/yy HH:mm:ss")," "),m.Bb(3),m.hc("ngIf",r.TaskDescRef)("ngIfElse",i),m.Bb(4),m.uc(null==r?null:r.comment),m.Bb(1),m.hc("ngIf",null==r?null:r.candidates)}}var M,I,x,D=[{path:"",component:(M=function(){function t(e,r,i,o,a,c,s){n(this,t),this.router=e,this.candidatesDelegator=r,this.entityNamer=i,this.tasksDelegator=o,this.msgService=a,this.langProvider=c,this.store=s,this.comments=[],this.subscription={},this.isInit=!1}return e(t,[{key:"ngOnInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){var t=this;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:this.subscription.lastCommentsChangeDateTime=this.store.lastCommentsChangeDateTime.subscribe(function(n){return Object(b.a)(t,void 0,void 0,regeneratorRuntime.mark(function n(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,this.msgService.showLoader();case 3:return t=n.sent,n.next=6,this.tasksDelegator.loadComments();case 6:this.comments=n.sent;case 7:return n.prev=7,t.dismiss(),n.finish(7);case 10:case"end":return n.stop()}},n,this,[[0,,7,10]])}))}),this.isInit=!0;case 1:case"end":return n.stop()}},n,this)}))}},{key:"ngOnDestroy",value:function(){for(var n in this.subscription)Object.prototype.hasOwnProperty.call(this.subscription,n)&&this.subscription[n].unsubscribe()}},{key:"ngAfterViewInit",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},n)}))}},{key:"ionViewWillEnter",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},n)}))}},{key:"ionViewWillLeave",value:function(){return Object(b.a)(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},n)}))}},{key:"createComment",value:function(){this.router.navigate(["tabs/comments/create-comment"],{skipLocationChange:!0})}},{key:"showSearchbar",value:function(n){this.isShowSearchbar=n}},{key:"editComment",value:function(n){var t={id:u.Guid.raw(),data:n};this.store.editComment.next(t),this.router.navigate(["tabs/comments/create-comment",{Navigate:t.id}],{skipLocationChange:!0})}},{key:"showCommentsFilters",value:function(){}},{key:"updateComments",value:function(){}},{key:"trackByFn",value:function(n,t){return t?t._id:n}}]),t}(),M.\u0275fac=function(n){return new(n||M)(m.Lb(s.f),m.Lb(l.a),m.Lb(f.a),m.Lb(h.a),m.Lb(d.a),m.Lb(g.b),m.Lb(p.a))},M.\u0275cmp=m.Fb({type:M,selectors:[["app-comments"]],decls:10,vars:4,consts:[[4,"ngIf"],["class","searchbar","showCancelButton","always",3,"ngModel","ngModelChange","ionChange","ionCancel",4,"ngIf"],[1,"container"],["button","",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],["horizontal","start","vertical","bottom","slot","fixed","cdkDrag","","cdkDragBoundary",".container"],["color","primary",3,"click"],["name","chatbox-ellipses"],["slot","start"],["slot","end"],[3,"click",4,"ngIf"],[3,"click"],["slot","icon-only","name","options"],["slot","icon-only","name","search"],["showCancelButton","always",1,"searchbar",3,"ngModel","ngModelChange","ionChange","ionCancel"],["button","",3,"click"],[1,"commentDate"],[1,"commentTask"],[4,"ngIf","ngIfElse"],["elseNoTaskDesk",""],[1,"commentTxt"],["class","commentCandidates",4,"ngIf"],[1,"commentCandidates"],["class","avatarComment",3,"candidate",4,"ngFor","ngForOf","ngForTrackBy"],[1,"avatarComment",3,"candidate"]],template:function(n,t){1&n&&(m.Rb(0,"ion-header"),m.Rb(1,"ion-toolbar"),m.rc(2,y,9,4,"ng-container",0),m.rc(3,C,1,1,"ion-searchbar",1),m.Qb(),m.Qb(),m.Rb(4,"ion-content",2),m.Rb(5,"ion-list"),m.rc(6,S,12,10,"ion-item",3),m.Qb(),m.Rb(7,"ion-fab",4),m.Rb(8,"ion-fab-button",5),m.Zb("click",function(){return t.createComment()}),m.Mb(9,"ion-icon",6),m.Qb(),m.Qb(),m.Qb()),2&n&&(m.Bb(2),m.hc("ngIf",!t.isShowSearchbar),m.Bb(1),m.hc("ngIf",t.isShowSearchbar),m.Bb(3),m.hc("ngForOf",t.comments)("ngForTrackBy",t.trackByFn))},directives:[c.s,c.Z,o.m,c.n,c.D,o.l,c.o,v.a,c.p,c.t,c.k,c.F,c.j,c.X,c.N,c.lb,a.e,a.h,c.w,c.C,k.a],pipes:[o.e],styles:[".avatarComment[_ngcontent-%COMP%]{height:2rem;width:2rem;margin:.5rem .2rem 0}.commentCandidates[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.commentDate[_ngcontent-%COMP%]{font-size:.7rem;margin-bottom:.2rem;display:flex;justify-content:flex-end;color:var(--ion-color-medium)}.commentTxt[_ngcontent-%COMP%]{white-space:normal}.commentTask[_ngcontent-%COMP%]{margin-bottom:.2rem;color:var(--ion-color-tertiary)}"]}),M)}],F=((I=e(function t(){n(this,t)})).\u0275fac=function(n){return new(n||I)},I.\u0275mod=m.Jb({type:I}),I.\u0275inj=m.Ib({imports:[[s.h.forChild(D)],s.h]}),I),L=i("ajeZ"),P=((x=e(function t(){n(this,t)})).\u0275fac=function(n){return new(n||x)},x.\u0275mod=m.Jb({type:x}),x.\u0275inj=m.Ib({imports:[[o.c,a.a,c.bb,F,v.f,L.a]]}),x)}}])}();