(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{x5Jj:function(t,i,e){"use strict";e.r(i),e.d(i,"PouchbPlayPageModule",function(){return P});var o=e("ofXK"),n=e("3Pt+"),c=e("TEn/"),s=e("tyNb"),r=e("mrSG"),a=e("a6kD"),l=e("fXoL"),b=e("h7jJ"),d=e("4UqN"),u=e("Lrti"),h=e("o6Vy"),p=e("6nr9"),v=e("nbnm"),y=e("zrcv"),f=e("VYsW"),m=e("Cbio"),g=e("jhN1");const S=["video"];function w(t,i){if(1&t&&l.Mb(0,"audio",4),2&t){const t=l.bc();l.hc("src",t.audioSrc,l.nc)}}const k=[{path:"",component:(()=>{class t{constructor(t,i,e,o,n,c,s,r,a,l,b,d,u){this.dataProvider=t,this.setupService=i,this.validationService=e,this.syncService=o,this.settingsService=n,this.entityNamer=c,this.msgService=s,this.appContext=r,this.micService=a,this.sanitizer=l,this.actionCtrl=b,this.popupCtrl=d,this.modalCtrl=u}ngOnInit(){}sync(){return Object(r.a)(this,void 0,void 0,function*(){yield this.dataProvider.syncToCouch(),yield this.msgService.showToast("DB Synced",500)})}dropDb(){return Object(r.a)(this,void 0,void 0,function*(){yield this.setupService.clearSetup(),yield this.dataProvider.dropDb(),location.reload(),yield this.msgService.showToast("DB Dropped",500)})}compactDb(){return Object(r.a)(this,void 0,void 0,function*(){yield this.dataProvider.compactDb(),yield this.msgService.showToast("DB Compacted",500)})}getAllTasks(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.dataProvider.getAllTasks();this.msgService.showModal(JSON.stringify(t))})}googleSheet(){return Object(r.a)(this,void 0,void 0,function*(){try{const t=yield this.validationService.validate();this.msgService.showModal(`${t}`,null,"ltr")}catch(t){this.msgService.showMessage(null==t?void 0:t.message)}})}playVideo(){this.videoSrc="./assets/videos/VID-20200320-WA0027.mp4",this.videoPlayer.nativeElement.load(),this.videoPlayer.nativeElement.play()}sendMail(){return Object(r.a)(this,void 0,void 0,function*(){const t=encodeURI(this.entityNamer.userPrefix()),i=this.settingsService.getSettingsItem("targetDataMail"),e=yield this.dataProvider.getAllDocs(),o=JSON.stringify(e);window.location.href=`mailto:${i}?subject=${t}&body=${o}`})}micStt(){return Object(r.a)(this,void 0,void 0,function*(){try{const t=yield this.micService.handleAudio(),i=URL.createObjectURL(t),e=this.sanitizer.bypassSecurityTrustUrl(i);this.audioSrc=e}catch(t){this.msgService.showModal(JSON.stringify(t))}})}temp(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.popupCtrl.create({component:a.a,backdropDismiss:!1,componentProps:{}});yield t.present();const i=yield t.onWillDismiss();console.log(i.data)})}}return t.\u0275fac=function(i){return new(i||t)(l.Lb(b.a),l.Lb(d.a),l.Lb(u.a),l.Lb(h.a),l.Lb(p.a),l.Lb(v.a),l.Lb(y.a),l.Lb(f.a),l.Lb(m.a),l.Lb(g.b),l.Lb(c.a),l.Lb(c.ib),l.Lb(c.eb))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-pouchb-play"]],viewQuery:function(t,i){if(1&t&&l.zc(S,1),2&t){let t;l.kc(t=l.ac())&&(i.videoPlayer=t.first)}},decls:26,vars:1,consts:[["slot","end"],["defaultHref","/"],["expand","full","color","secondary",3,"click"],["id","player","type","audio/webm","controls","",3,"src",4,"ngIf"],["id","player","type","audio/webm","controls","",3,"src"]],template:function(t,i){1&t&&(l.Rb(0,"ion-header"),l.Rb(1,"ion-toolbar"),l.Rb(2,"ion-buttons",0),l.Mb(3,"ion-back-button",1),l.Qb(),l.Rb(4,"ion-title"),l.tc(5,"pouchbPlay"),l.Qb(),l.Qb(),l.Qb(),l.Rb(6,"ion-content"),l.Rb(7,"ion-button",2),l.Zb("click",function(){return i.dropDb()}),l.tc(8,"Drop DB"),l.Qb(),l.Rb(9,"ion-button",2),l.Zb("click",function(){return i.sync()}),l.tc(10,"Sync"),l.Qb(),l.Rb(11,"ion-button",2),l.Zb("click",function(){return i.compactDb()}),l.tc(12,"Compact DB"),l.Qb(),l.Rb(13,"ion-button",2),l.Zb("click",function(){return i.getAllTasks()}),l.tc(14,"Get All Tasks"),l.Qb(),l.Rb(15,"ion-button",2),l.Zb("click",function(){return i.googleSheet()}),l.tc(16,"Google Sheet"),l.Qb(),l.Rb(17,"ion-button",2),l.Zb("click",function(){return i.playVideo()}),l.tc(18,"Video"),l.Qb(),l.Rb(19,"ion-button",2),l.Zb("click",function(){return i.sendMail()}),l.tc(20,"Mail"),l.Qb(),l.Rb(21,"ion-button",2),l.Zb("click",function(){return i.micStt()}),l.tc(22,"Mic Stt"),l.Qb(),l.Rb(23,"ion-button",2),l.Zb("click",function(){return i.temp()}),l.tc(24,"Temp"),l.Qb(),l.rc(25,w,1,1,"audio",3),l.Qb()),2&t&&(l.Bb(25),l.hc("ngIf",i.audioSrc))},directives:[c.s,c.Z,c.k,c.g,c.h,c.X,c.n,c.j,o.m],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;overflow:hidden}.video[_ngcontent-%COMP%]{height:auto;width:100%}"]}),t})()}];let D=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({imports:[[s.h.forChild(k)],s.h]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=l.Jb({type:t}),t.\u0275inj=l.Ib({imports:[[o.c,n.a,c.bb,D]]}),t})()}}]);